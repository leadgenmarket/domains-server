{"ast":null,"code":"import _slicedToArray from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import\"flatpickr/dist/themes/light.css\";import Flatpickr from\"react-flatpickr\";import{Russian}from\"flatpickr/dist/l10n/ru.js\";import React from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var DatePickerInput=function DatePickerInput(_ref){var name=_ref.name,json=_ref.json,value=_ref.value,enable=_ref.enable;var _useState=useState(),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var group=/*#__PURE__*/React.createRef();var startDate=new Date().toISOString().slice(0,10);var setToinput=function setToinput(date){document.querySelectorAll('input[name=\"'+json+'\"]').forEach(function(el){var parsedDate=new Date(Date.parse(date));el.setAttribute('value',parsedDate.toISOString());var elem=group.current;//setDate(date)\nsetTimeout(function(){elem.querySelector('input').setAttribute('value',parsedDate.toISOString());},200);});//setDate(date)\n};useEffect(function(){if(value!=undefined&&value!=null&&value.length>0){var elem=group.current;var parsedDate=new Date(Date.parse(value));setDate([parsedDate]);setTimeout(function(){elem.querySelector('input').setAttribute('value',value);},200);}},[value]);var option=function option(){if(enable===false){return{\"data-enable-time\":true};}};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[name,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{ref:group,className:\"form-group\",children:[enable===false?/*#__PURE__*/_jsx(Flatpickr,{className:\"form-control flatpickr-inline flatpickr-input\",value:date,name:json,options:{minDate:value.length==0?startDate:\"\",locale:Russian},onChange:function onChange(date){return setToinput(date);}}):/*#__PURE__*/_jsx(Flatpickr,{\"data-enable-time\":true,className:\"form-control flatpickr-inline flatpickr-input\",value:date,name:json,options:{minDate:value.length==0?startDate:\"\",locale:Russian},onChange:function onChange(date){return setToinput(date);}}),/*#__PURE__*/_jsx(\"div\",{class:\"invalid-feedback\",children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"})]})]});};export default DatePickerInput;","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/modals/components/date-picker-input/date-picker-input.js"],"names":["useEffect","useRef","useState","Flatpickr","Russian","React","DatePickerInput","name","json","value","enable","date","setDate","group","createRef","startDate","Date","toISOString","slice","setToinput","document","querySelectorAll","forEach","el","parsedDate","parse","setAttribute","elem","current","setTimeout","querySelector","undefined","length","option","minDate","locale"],"mappings":"mJAAA,OAASA,SAAT,CAAoBC,MAApB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAO,iCAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAASC,OAAT,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAIA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAiC,IAA/BC,CAAAA,IAA+B,MAA/BA,IAA+B,CAAzBC,IAAyB,MAAzBA,IAAyB,CAAnBC,KAAmB,MAAnBA,KAAmB,CAAZC,MAAY,MAAZA,MAAY,CACrD,cAAuBR,QAAQ,EAA/B,wCAAOS,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,KAAK,cAAGR,KAAK,CAACS,SAAN,EAAd,CACA,GAAIC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAhB,CACA,GAAMC,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,CAACR,IAAD,CAAU,CACxBS,QAAQ,CAACC,gBAAT,CAA0B,eAAeb,IAAf,CAAoB,IAA9C,EAAoDc,OAApD,CAA4D,SAAAC,EAAE,CAAI,CAC9D,GAAIC,CAAAA,UAAU,CAAG,GAAIR,CAAAA,IAAJ,CAASA,IAAI,CAACS,KAAL,CAAWd,IAAX,CAAT,CAAjB,CACAY,EAAE,CAACG,YAAH,CAAgB,OAAhB,CAAwBF,UAAU,CAACP,WAAX,EAAxB,EACA,GAAIU,CAAAA,IAAI,CAAGd,KAAK,CAACe,OAAjB,CACA;AACAC,UAAU,CAAC,UAAK,CACZF,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BJ,YAA5B,CAAyC,OAAzC,CAAiDF,UAAU,CAACP,WAAX,EAAjD,EACH,CAFS,CAER,GAFQ,CAAV,CAGH,CARD,EASA;AACH,CAXD,CAcAjB,SAAS,CAAC,UAAM,CACZ,GAAGS,KAAK,EAAGsB,SAAR,EAAqBtB,KAAK,EAAG,IAA7B,EAAqCA,KAAK,CAACuB,MAAN,CAAa,CAArD,CAAwD,CACpD,GAAIL,CAAAA,IAAI,CAAGd,KAAK,CAACe,OAAjB,CACA,GAAIJ,CAAAA,UAAU,CAAG,GAAIR,CAAAA,IAAJ,CAASA,IAAI,CAACS,KAAL,CAAWhB,KAAX,CAAT,CAAjB,CACAG,OAAO,CAAC,CAACY,UAAD,CAAD,CAAP,CAEAK,UAAU,CAAC,UAAK,CACZF,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BJ,YAA5B,CAAyC,OAAzC,CAAkDjB,KAAlD,EACH,CAFS,CAEP,GAFO,CAAV,CAGH,CACJ,CAVQ,CAUN,CAACA,KAAD,CAVM,CAAT,CAWA,GAAMwB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,GAAIvB,MAAM,GAAI,KAAd,CAAqB,CACjB,MAAO,CAAC,mBAAmB,IAApB,CAAP,CACH,CACJ,CAJD,CAKA,mBAAO,MAAC,KAAD,CAAO,QAAP,yBACK,yBAAQH,IAAR,OADL,cAEK,aAAK,GAAG,CAAIM,KAAZ,CAAmB,SAAS,CAAC,YAA7B,WACSH,MAAM,GAAI,KAAV,cAAgB,KAAC,SAAD,EACb,SAAS,CAAC,+CADG,CAEb,KAAK,CAAEC,IAFM,CAGb,IAAI,CAAEH,IAHO,CAIb,OAAO,CAAE,CACL0B,OAAO,CAAEzB,KAAK,CAACuB,MAAN,EAAc,CAAd,CAAgBjB,SAAhB,CAA0B,EAD9B,CAELoB,MAAM,CAAE/B,OAFH,CAJI,CAOb,QAAQ,CAAE,kBAAAO,IAAI,QAAIQ,CAAAA,UAAU,CAACR,IAAD,CAAd,EAPD,EAAhB,cASG,KAAC,SAAD,EACI,uBADJ,CAEI,SAAS,CAAC,+CAFd,CAGI,KAAK,CAAEA,IAHX,CAII,IAAI,CAAEH,IAJV,CAKI,OAAO,CAAE,CACL0B,OAAO,CAAEzB,KAAK,CAACuB,MAAN,EAAc,CAAd,CAAgBjB,SAAhB,CAA0B,EAD9B,CAELoB,MAAM,CAAE/B,OAFH,CALb,CAQI,QAAQ,CAAE,kBAAAO,IAAI,QAAIQ,CAAAA,UAAU,CAACR,IAAD,CAAd,EARlB,EAVZ,cAqBQ,YAAK,KAAK,CAAC,kBAAX,sMArBR,GAFL,GAAP,CA0BH,CA5DD,CA8DA,cAAeL,CAAAA,eAAf","sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport \"flatpickr/dist/themes/light.css\";\nimport Flatpickr from \"react-flatpickr\";\nimport { Russian } from \"flatpickr/dist/l10n/ru.js\"\nimport React from \"react\";\n\n\n\nconst DatePickerInput = ({name, json, value, enable}) => {\n    const [date, setDate] =useState()\n    const group = React.createRef();\n    var startDate = new Date().toISOString().slice(0,10)\n    const setToinput =(date) => {\n        document.querySelectorAll('input[name=\"'+json+'\"]').forEach(el => {\n            let parsedDate = new Date(Date.parse(date))\n            el.setAttribute('value',parsedDate.toISOString())\n            let elem = group.current\n            //setDate(date)\n            setTimeout(()=> {\n                elem.querySelector('input').setAttribute('value',parsedDate.toISOString())\n            },200)\n        })\n        //setDate(date)\n    }\n    \n\n    useEffect(() => {\n        if(value !=undefined && value !=null && value.length>0) {\n            let elem = group.current\n            let parsedDate = new Date(Date.parse(value))\n            setDate([parsedDate])\n\n            setTimeout(()=> {\n                elem.querySelector('input').setAttribute('value', value)\n            }, 200)\n        }\n    }, [value])\n    const option = () => {\n        if (enable ===false) {\n            return {\"data-enable-time\":true}\n        }\n    }\n    return <React.Fragment>\n                <label>{name}:</label>\n                <div ref = {group} className=\"form-group\">\n                        {enable ===false?<Flatpickr\n                            className=\"form-control flatpickr-inline flatpickr-input\"\n                            value={date}\n                            name={json}\n                            options={{\n                                minDate: value.length==0?startDate:\"\",\n                                locale: Russian }}\n                            onChange={date => setToinput(date)}\n                            />:\n                            <Flatpickr\n                                data-enable-time\n                                className=\"form-control flatpickr-inline flatpickr-input\"\n                                value={date}\n                                name={json}\n                                options={{\n                                    minDate: value.length==0?startDate:\"\",\n                                    locale: Russian }}\n                                onChange={date => setToinput(date)}\n                            />\n                        }\n                        <div class=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                </div>\n            </React.Fragment>\n}\n\nexport default DatePickerInput"]},"metadata":{},"sourceType":"module"}