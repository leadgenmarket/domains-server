{"ast":null,"code":"import _classCallCheck from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _slicedToArray from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PageTitle from\"../../../page-title\";import TableItem from\"./table-item\";import{compose}from\"../../../../utils\";import{withApiService}from\"../../../hoc\";import{connect}from\"react-redux\";import{bindActionCreators}from'redux';import{Component,useEffect,useRef,useState}from\"react\";import{fetchLeads,fetchMoreLeads}from\"../../../../actions/leads\";import{Spinner}from\"../../../spinner\";import{useNavigate}from\"react-router-dom\";import ApiService from\"../../../../services/api-service\";import{toast}from\"react-toastify\";import{BottomScrollListener}from'react-bottom-scroll-listener';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeadsPage=function LeadsPage(_ref){var leads=_ref.leads,loading=_ref.loading,cursor=_ref.cursor,fetchLeads=_ref.fetchLeads,fetchMoreLeads=_ref.fetchMoreLeads;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];useEffect(function(){},[]);var onBottom=function onBottom(){if(load===false&&loading===false){setLoad(true);fetchMoreLeads(\"\",cursor,15);setTimeout(function(){setLoad(false);},1000);}};var searchLeads=function searchLeads(event){//console.log(event.target.value)\nfetchLeads(event.target.value,\"\",15);};return/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(PageTitle,{title:\"Список лидов\"}),/*#__PURE__*/_jsx(BottomScrollListener,{offset:20,onBottom:onBottom,children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"DataTables_Table_0_wrapper\",className:\"dataTables_wrapper dt-bootstrap4 no-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{id:\"DataTables_Table_0_filter\",className:\"dataTables_filter\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u043E\\u0438\\u0441\\u043A:\",/*#__PURE__*/_jsx(\"input\",{onChange:searchLeads,type:\"search\",className:\"form-control form-control-sm\",placeholder:\"\",\"aria-controls\":\"DataTables_Table_0\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\",style:{borderCollapse:\"collapse\",borderSpacing:\"0px 8px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-transparent\",role:\"row\",children:[/*#__PURE__*/_jsx(\"th\",{style:{width:\"30px\"},className:\"sorting sorting_asc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check font-size-16\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"check\",className:\"form-check-input\",id:\"checkAll\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"checkAll\"})]})}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0413\\u043E\\u0440\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0421\\u0430\\u0439\\u0442\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),leads==null?/*#__PURE__*/_jsx(\"tbody\",{}):/*#__PURE__*/_jsx(\"tbody\",{children:leads.map(function(lead){return/*#__PURE__*/_jsx(TableItem,{lead:lead,fetchLeads:fetchLeads});})})]})})})]})})})})})})})]})})});};var DomainListPageContainer=/*#__PURE__*/function(_Component){_inherits(DomainListPageContainer,_Component);var _super=_createSuper(DomainListPageContainer);function DomainListPageContainer(){_classCallCheck(this,DomainListPageContainer);return _super.apply(this,arguments);}_createClass(DomainListPageContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchLeads(\"\",\"\",15);}},{key:\"render\",value:function render(){var _this$props=this.props,leads=_this$props.leads,cursor=_this$props.cursor,loading=_this$props.loading,error=_this$props.error,fetchLeads=_this$props.fetchLeads,fetchMoreLeads=_this$props.fetchMoreLeads;if(loading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(LeadsPage,{leads:leads,cursor:cursor,loading:loading,error:error,fetchLeads:fetchLeads,fetchMoreLeads:fetchMoreLeads});}}]);return DomainListPageContainer;}(Component);var mapStateToProps=function mapStateToProps(_ref2){var _ref2$leadsList=_ref2.leadsList,leads=_ref2$leadsList.leads,cursor=_ref2$leadsList.cursor,loading=_ref2$leadsList.loading,error=_ref2$leadsList.error;return{leads:leads,cursor:cursor,loading:loading,error:error};};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref3){var apiService=_ref3.apiService;return bindActionCreators({fetchLeads:fetchLeads(apiService),fetchMoreLeads:fetchMoreLeads(apiService)},dispatch);};export default compose(withApiService(),connect(mapStateToProps,mapDispatchToProps))(DomainListPageContainer);","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/pages/leads/leads-list/leads-list.js"],"names":["PageTitle","TableItem","compose","withApiService","connect","bindActionCreators","Component","useEffect","useRef","useState","fetchLeads","fetchMoreLeads","Spinner","useNavigate","ApiService","toast","BottomScrollListener","LeadsPage","leads","loading","cursor","navigate","load","setLoad","onBottom","setTimeout","searchLeads","event","target","value","borderCollapse","borderSpacing","width","map","lead","DomainListPageContainer","props","error","mapStateToProps","leadsList","mapDispatchToProps","dispatch","apiService"],"mappings":"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","sourcesContent":["import PageTitle from \"../../../page-title\"\nimport TableItem from \"./table-item\"\nimport { compose } from \"../../../../utils\";\nimport { withApiService } from \"../../../hoc\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport { Component, useEffect, useRef, useState } from \"react\";\nimport { fetchLeads, fetchMoreLeads } from \"../../../../actions/leads\";\nimport { Spinner } from \"../../../spinner\";\nimport { useNavigate } from \"react-router-dom\"\nimport ApiService from \"../../../../services/api-service\";\nimport { toast } from \"react-toastify\";\nimport { BottomScrollListener } from 'react-bottom-scroll-listener';\n\nconst LeadsPage = ({ leads, loading, cursor, fetchLeads, fetchMoreLeads }) => {\n    const navigate = useNavigate();\n    const [load, setLoad] = useState(false)\n    useEffect(() => {\n    }, [])\n\n    const onBottom = () => {\n        if (load === false && loading === false) {\n            setLoad(true)\n            fetchMoreLeads(\"\", cursor, 15)\n            setTimeout(() => {\n                setLoad(false)\n            }, 1000)\n        }\n\n    };\n\n    const searchLeads = (event) => {\n        //console.log(event.target.value)\n        fetchLeads(event.target.value, \"\", 15)\n    }\n    return (<div className=\"main-content\">\n        <div className=\"page-content\">\n            <div className=\"container-fluid\">\n                <PageTitle title={\"Список лидов\"} />\n                <BottomScrollListener offset={20} onBottom={onBottom} >\n                    <div className=\"row\">\n                        <div className=\"col-lg-12\">\n                            <div className=\"card\">\n                                <div className=\"card-body\">\n                                    <div className=\"table-responsive\">\n                                        <div id=\"DataTables_Table_0_wrapper\" className=\"dataTables_wrapper dt-bootstrap4 no-footer\">\n                                            <div className=\"row\">\n                                                <div className=\"col-sm-12 col-md-6\">\n\n                                                </div>\n                                                <div className=\"col-sm-12 col-md-6\">\n                                                    <div id=\"DataTables_Table_0_filter\" className=\"dataTables_filter\">\n                                                        <label>Поиск:<input onChange={searchLeads} type=\"search\" className=\"form-control form-control-sm\" placeholder=\"\" aria-controls=\"DataTables_Table_0\" /></label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"row\">\n\n                                                <div className=\"col-sm-12\">\n                                                    <table className=\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\" style={{ borderCollapse: \"collapse\", borderSpacing: \"0px 8px\", width: \"100%\" }} >\n                                                        <thead>\n                                                            <tr className=\"bg-transparent\" role=\"row\">\n                                                                <th style={{ width: \"30px\" }} className=\"sorting sorting_asc\">\n                                                                    <div className=\"form-check\n                                                        font-size-16\">\n                                                                        <input type=\"checkbox\" name=\"check\" className=\"form-check-input\" id=\"checkAll\" />\n                                                                        <label className=\"form-check-label\" htmlFor=\"checkAll\"></label>\n                                                                    </div>\n                                                                </th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Номер телефона</th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Имя</th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Город</th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Сайт</th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Дата</th>\n                                                                <th style={{ width: \"80px\" }} className=\"sorting\" >Действия</th>\n                                                            </tr>\n                                                        </thead>\n                                                        {leads == null ? <tbody></tbody> : <tbody>\n                                                            {\n                                                                leads.map((lead) => {\n                                                                    return <TableItem lead={lead} fetchLeads={fetchLeads} />\n                                                                })\n                                                            }\n                                                        </tbody>}\n                                                    </table>\n                                                </div>\n\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ BottomScrollListener>\n            </div>\n        </div>\n\n    </div>\n    )\n}\n\n\nclass DomainListPageContainer extends Component {\n\n    componentDidMount() {\n        this.props.fetchLeads(\"\", \"\", 15);\n    }\n\n    render() {\n        const { leads, cursor, loading, error, fetchLeads, fetchMoreLeads } = this.props;\n        if (loading) {\n            return <Spinner />\n        }\n        return <LeadsPage leads={leads} cursor={cursor} loading={loading} error={error} fetchLeads={fetchLeads} fetchMoreLeads={fetchMoreLeads} />;\n    }\n}\n\nconst mapStateToProps = ({ leadsList: { leads, cursor, loading, error } }) => {\n    return { leads, cursor, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { apiService }) => {\n    return bindActionCreators({\n        fetchLeads: fetchLeads(apiService),\n        fetchMoreLeads: fetchMoreLeads(apiService)\n    }, dispatch);\n};\n\nexport default compose(\n    withApiService(),\n    connect(mapStateToProps, mapDispatchToProps)\n)(DomainListPageContainer);"]},"metadata":{},"sourceType":"module"}