{"ast":null,"code":"var _jsxFileName = \"/Users/laurkankusu/Documents/development/domains-server/admin/src/components/modals/text-modal.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Edit, Trash } from \"react-feather\";\nimport { showModal } from \".\";\nimport { SpinnerContext } from \"../spinner\";\nimport { ChooseOptions, DatePickerInput } from \"./components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TextModal = _ref => {\n  _s();\n\n  let {\n    form,\n    sendRequest\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n\n  const closeModal = e => {\n    e.preventDefault();\n    if (form.clear !== false) clearFields(e);\n\n    if (form.return !== undefined && document.querySelector('.' + form.return)) {\n      document.querySelectorAll('.modal-dialog').forEach(modal => {\n        modal.style.display = \"none\";\n      });\n      document.querySelector('#inlineForm').classList.add('show');\n      document.querySelector('.' + form.return).style.display = \"flex\";\n    } else {\n      document.querySelector('#inlineForm').style.display = \"none\";\n      document.querySelector('#inlineForm').classList.remove('show');\n      document.querySelector('body').classList.remove('modal-open');\n      document.querySelectorAll('.modal-dialog').forEach(modal => {\n        modal.style.display = \"none\";\n      });\n      document.querySelector('.modal-backdrop').remove();\n    }\n  };\n\n  const showResultModal = flag => {\n    document.querySelectorAll('.modal-dialog').forEach(modal => {\n      modal.style.display = \"none\";\n    });\n\n    if (flag) {\n      document.querySelector('.modal-success').style.display = \"flex\";\n      setTimeout(() => {\n        document.querySelector('.modal-success').classList.add('show');\n      }, 100);\n      document.querySelector('.modal-success .modal-content').style.display = \"block\";\n    } else {\n      document.querySelector('.modal-danger').style.display = \"flex\";\n      setTimeout(() => {\n        document.querySelector('.modal-danger').classList.add('show');\n      }, 100);\n      document.querySelector('.modal-danger .modal-content').style.display = \"block\";\n    }\n  };\n\n  const checkFields = event => {\n    const form_ = event.target.closest('form');\n    let json = {};\n    let attach = null;\n    let flag = true;\n    form_.querySelectorAll('input, select, textarea').forEach(element => {\n      if (element.type == 'file') {\n        if (element.getAttribute('check') != 'false') {\n          if (element.files.length != 0) {\n            attach = element.files[0];\n            json = { ...json,\n              files: element.files\n            };\n            element.closest('.mb-2').classList.remove('error'); //element.closest('.row-center').querySelector('.image').classList.remove('error')\n            //element.closest('.row-center').parentNode.querySelector('.image-span').classList.remove('error')\n          } else {\n            flag = false;\n            element.closest('.mb-2').classList.add('error');\n          }\n        }\n      } else if (element.type == 'hidden') {\n        console.log(element);\n\n        if (Number.isNaN(parseInt(element.value)) || element.getAttribute('name') == \"ID\") {\n          json = { ...json,\n            [element.getAttribute('name')]: element.value\n          };\n        } else {\n          json = { ...json,\n            [element.getAttribute('name')]: parseInt(element.value)\n          };\n        }\n\n        if (element.value == \"\") {\n          element.closest('.form-group').classList.add('error');\n          flag = false;\n        }\n      } else if (element.type == 'number') {\n        if (Number.isNaN(parseInt(element.value))) {\n          element.closest('.form-group').classList.add('error');\n          flag = false;\n        } else {\n          element.closest('.form-group').classList.remove('error');\n          json = { ...json,\n            [element.getAttribute('name')]: parseInt(element.value)\n          };\n        }\n      } else if (element.type == 'textarea') {\n        if (element.value == \"\") {\n          element.closest('.form-group').classList.add('error');\n          flag = false;\n        } else {\n          element.closest('.form-group').classList.remove('error');\n          json = { ...json,\n            [element.getAttribute('name')]: element.value\n          };\n        }\n      } else {\n        if (element.value.trim().length == 0) {\n          element.closest('.form-group').classList.add('error');\n          flag = false;\n        } else {\n          element.closest('.form-group').classList.remove('error');\n\n          if (element.type == \"select-one\") {\n            if (element.value == \"true\") {\n              json = { ...json,\n                [element.getAttribute('name')]: true\n              };\n            } else if (element.value == \"false\") {\n              json = { ...json,\n                [element.getAttribute('name')]: false\n              };\n            } else {\n              if (element.getAttribute('name') !== \"role\") {\n                json = { ...json,\n                  [element.getAttribute('name')]: parseInt(element.value)\n                };\n              } else {\n                json = { ...json,\n                  [element.getAttribute('name')]: element.value\n                };\n              }\n            }\n          } else {\n            if (element.getAttribute('name').indexOf('time') !== -1) {\n              let date = new Date(Date.parse(element.value));\n              json = { ...json,\n                [element.getAttribute('name')]: date.toISOString()\n              };\n            } else {\n              json = { ...json,\n                [element.getAttribute('name')]: element.value\n              };\n            }\n          }\n        }\n      }\n    });\n\n    if (flag) {\n      setLoading(true); //form.action(json)\n\n      let flag = false;\n      if (form.fields.map(field => {\n        if (field.type == \"file\") {\n          flag = true;\n        }\n      })) if (!flag) {\n        axios({\n          url: form.url,\n          method: form.type,\n          data: json,\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          if (form.type == \"put\") json.ID = response.data.id;\n          if (response.data.user != null) json.User = response.data.user;\n          form.action(json);\n          setLoading(false);\n          if (form.clear !== false) clearFields(event);\n\n          if (form.return) {\n            showModal(form.return);\n          } else {\n            showResultModal(true);\n          }\n        }).catch(error => {\n          console.log(error);\n          setLoading(false);\n          showResultModal(false);\n        });\n      } else if (flag) {\n        const formData = new FormData();\n        Object.keys(json).map(name => {\n          if (name != \"files\") {\n            formData.append(name, json[name]);\n          }\n        });\n\n        if (json.files != undefined && json.files.length > 0) {\n          Array.from(json.files).forEach(file => {\n            formData.append('files', file);\n          });\n        }\n\n        axios({\n          url: form.url,\n          method: form.type,\n          data: formData,\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(response => {\n          if (form.type == \"put\") json.ID = response.data.id;\n          form.action(json);\n          setLoading(false);\n          if (form.clear !== false) clearFields(event);\n\n          if (form.return) {\n            showModal(form.return);\n          } else {\n            showResultModal(true);\n          }\n        }).catch(error => {\n          console.log(error);\n          setLoading(false);\n\n          if (form.return) {\n            showModal(form.return);\n          } else {\n            showResultModal(false);\n          }\n        });\n        /*\n        form.fields.map((field) => {\n            if (field.name!=\"files\") {\n                formData.append(field.name, 'ADD');\n            }\n        })\n        formData.append('action', 'ADD');\n        formData.append('param', 0);\n        formData.append('secondParam', 0);\n        formData.append('file', new Blob(['test payload'], {\n        type: 'text/csv',\n        }));\n        */\n      }\n    }\n  };\n\n  const inputChange = e => {\n    if (form.date != null) {\n      for (let i = 0; i < Object.keys(form.date).length; i++) {\n        let name = Object.keys(form.date)[i];\n\n        if (name.toLowerCase() == e.target.name.toLowerCase()) {\n          form.edit({ ...form.date,\n            [name]: e.target.value\n          });\n          break;\n        }\n      }\n    }\n  };\n\n  const generateFields = form.fields.map(field => {\n    if (field.type == \"text\" || field.type == \"number\") {\n      let value = \"\";\n\n      if (form.date != null) {\n        for (let i = 0; i < Object.keys(form.date).length; i++) {\n          let name = Object.keys(form.date)[i];\n\n          if (name.toLowerCase() == field.json.toLowerCase()) {\n            value = form.date[name];\n            break;\n          }\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [field.name, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [value == \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: field.type,\n            id: field.name,\n            name: field.json\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            onChange: inputChange,\n            type: field.type,\n            id: field.name,\n            name: field.json,\n            value: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 128\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"hidden\") {\n      let value = \"\";\n\n      if (form.date != null) {\n        for (let i = 0; i < Object.keys(form.date).length; i++) {\n          let name = Object.keys(form.date)[i];\n\n          if (name.toLowerCase() == field.json.toLowerCase()) {\n            value = form.date[name];\n            break;\n          }\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        name: field.json,\n        type: field.type,\n        value: value == \"\" ? field.value : value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"select\") {\n      let value = \"\";\n\n      if (form.date != null) {\n        for (let i = 0; i < Object.keys(form.date).length; i++) {\n          let name = Object.keys(form.date)[i];\n\n          if (name.toLowerCase() == field.json.toLowerCase()) {\n            value = form.date[name];\n            break;\n          }\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: field.json,\n          children: field.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select custom-select\",\n          id: field.json,\n          name: field.json,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            selected: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this), field.options.map(option => {\n            return value == option.value ? /*#__PURE__*/_jsxDEV(\"option\", {\n              selected: true,\n              value: option.value,\n              children: option.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 60\n            }, this) : /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 121\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"textarea\") {\n      let value = \"\";\n\n      if (form.date != null) {\n        for (let i = 0; i < Object.keys(form.date).length; i++) {\n          let name = Object.keys(form.date)[i];\n\n          if (name.toLowerCase() == field.json.toLowerCase()) {\n            value = form.date[name];\n            break;\n          }\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        style: {\n          padding: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb1 form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: field.json,\n            children: field.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this), value != \"\" ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: field.json,\n            value: value,\n            onChange: inputChange,\n            name: field.json,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: field.json,\n            name: field.json,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 154\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"date\") {\n      let value = \"\";\n\n      if (form.date != null) {\n        for (let i = 0; i < Object.keys(form.date).length; i++) {\n          let name = Object.keys(form.date)[i];\n\n          if (name.toLowerCase() == field.json.toLowerCase()) {\n            value = form.date[name];\n            break;\n          }\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(DatePickerInput, { ...field,\n        value: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"choose\") {\n      console.log(field);\n      return /*#__PURE__*/_jsxDEV(ChooseOptions, { ...field\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (field.type == \"file\") {\n      const imageContainerClick = event => {\n        event.preventDefault();\n        event.currentTarget.parentNode.querySelector('input[type=\"file\"]').click();\n      };\n\n      const onImageChange = event => {\n        event.preventDefault();\n        event.target.setAttribute('check', 'true');\n        event.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src', URL.createObjectURL(event.target.files[0]));\n      };\n\n      const onImageDelete = event => {\n        event.preventDefault();\n        event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').setAttribute('check', 'true');\n        event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src', \"/public/other/placeholder_image.jpg\");\n        event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').value = null;\n      };\n\n      let image = \"\";\n\n      if (form.date != null) {\n        image = form.imageurl + \"/\" + form.date.ID + \"/\" + form.date.ID + \".jpg\";\n      }\n\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              with: \"100%\"\n            },\n            children: [field.name, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: field.wide != true ? \"media mb-2\" : \"mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: imageContainerClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image != \"\" ? image : \"/public/other/placeholder_image.jpg\",\n              alt: \"users avatar\",\n              className: field.wide == true ? \"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer wide-img\" : \"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer\",\n              width: \"150\",\n              height: \"150\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-body mt-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 d-flex mt-1 px-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"btn btn-primary mr-75 mb-0 waves-effect waves-float waves-light\",\n                hrmlFor: \"change-picture\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"d-none d-sm-block\",\n                  children: [/*#__PURE__*/_jsxDEV(Edit, {\n                    size: \"20\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 77\n                  }, this), \" \\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  check: image != \"\" ? \"false\" : \"true\",\n                  onChange: onImageChange,\n                  className: \"form-control\",\n                  type: \"file\",\n                  id: \"change-picture\",\n                  accept: \"image/png, image/jpeg, image/jpg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"d-block d-sm-none\",\n                  children: /*#__PURE__*/_jsxDEV(Edit, {\n                    onClick: onImageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: onImageDelete,\n                className: \"btn btn-outline-primary d-none d-sm-block waves-effect\",\n                children: [/*#__PURE__*/_jsxDEV(Trash, {\n                  size: \"20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 136\n                }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary d-block d-sm-none waves-effect\",\n                children: /*#__PURE__*/_jsxDEV(Trash, {\n                  onClick: onImageDelete\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 20\n      }, this);\n    }\n  });\n\n  const btnSend = e => {\n    checkFields(e);\n  };\n\n  const clearFields = e => {\n    const form_ = document.querySelector('.' + form.name);\n    form_.querySelectorAll('input, select, textarea').forEach(element => {\n      if (element.type == 'file') {\n        element.value = null;\n        element.parentNode.parentNode.parentNode.parentNode.querySelector('img').setAttribute('src', \"/public/other/placeholder_image.jpg\");\n      } else if (element.type == \"text\") {\n        element.value = \"\";\n      } else if (element.type == \"hidden\") {//element.value = \"\"\n      } else {\n        element.value = null;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-dialog-centered \" + form.name,\n      role: \"document\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"modal-title\",\n            id: \"myModalLabel33\",\n            children: form.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 90\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: closeModal,\n            \"data-bs-dismiss\": \"modal\",\n            \"aria-label\": \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 21\n        }, this), form.subtitle != null ? /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            paddingLeft: \"1.5rem\",\n            paddingTop: \"1rem\"\n          },\n          className: \"modal-title\",\n          id: \"myModalLabel33\",\n          children: form.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 165\n        }, this), loading ? /*#__PURE__*/_jsxDEV(SpinnerContext, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 30\n        }, this) : \"\", form.question != null ?\n        /*#__PURE__*/\n        //для alertа вы действительно хотите удалить?\n        _jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"#\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              style: {\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"18px\"\n                },\n                children: form.question\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 33\n              }, this), generateFields]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-primary waves-effect waves-float waves-light\",\n                onClick: closeModal,\n                \"data-dismiss\": \"modal\",\n                children: \"\\u041D\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: btnSend,\n                className: \"btn btn-danger waves-effect waves-float waves-light\",\n                \"data-dismiss\": \"modal\",\n                children: \"\\u0414\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"#\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: generateFields\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-primary waves-effect waves-float waves-light\",\n              onClick: closeModal,\n              \"data-dismiss\": \"modal\",\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: btnSend,\n              className: \"btn btn-primary waves-effect waves-float waves-light\",\n              \"data-dismiss\": \"modal\",\n              children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 13\n  }, this);\n};\n\n_s(TextModal, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n\n_c = TextModal;\nexport default TextModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TextModal\");","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/modals/text-modal.js"],"names":["axios","React","useState","Edit","Trash","showModal","SpinnerContext","ChooseOptions","DatePickerInput","TextModal","form","sendRequest","loading","setLoading","closeModal","e","preventDefault","clear","clearFields","return","undefined","document","querySelector","querySelectorAll","forEach","modal","style","display","classList","add","remove","showResultModal","flag","setTimeout","checkFields","event","form_","target","closest","json","attach","element","type","getAttribute","files","length","console","log","Number","isNaN","parseInt","value","trim","indexOf","date","Date","parse","toISOString","fields","map","field","url","method","data","headers","Accept","then","response","ID","id","user","User","action","catch","error","formData","FormData","Object","keys","name","append","Array","from","file","inputChange","i","toLowerCase","edit","generateFields","options","option","padding","imageContainerClick","currentTarget","parentNode","click","onImageChange","setAttribute","URL","createObjectURL","onImageDelete","image","imageurl","with","wide","btnSend","title","subtitle","paddingLeft","paddingTop","question","textAlign","fontSize"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport {Edit, Trash} from \"react-feather\"\nimport { showModal } from \".\"\nimport {SpinnerContext} from \"../spinner\"\nimport { ChooseOptions, DatePickerInput } from \"./components\"\n\nconst TextModal = ({form, sendRequest}) => {\n    const [loading, setLoading] = useState(false)\n    const closeModal = (e) => {\n        e.preventDefault()\n        if (form.clear!==false) clearFields(e)\n        if (form.return!==undefined && document.querySelector('.'+form.return)) {\n            document.querySelectorAll('.modal-dialog').forEach((modal) => {\n                modal.style.display = \"none\"\n            })\n            document.querySelector('#inlineForm').classList.add('show')\n            document.querySelector('.'+form.return).style.display = \"flex\"\n        } else {\n            document.querySelector('#inlineForm').style.display = \"none\"\n            document.querySelector('#inlineForm').classList.remove('show')\n            document.querySelector('body').classList.remove('modal-open')\n            document.querySelectorAll('.modal-dialog').forEach((modal) => {\n                modal.style.display = \"none\"\n            })\n            document.querySelector('.modal-backdrop').remove()\n        }\n        \n        \n    }\n\n    const showResultModal = (flag) => {\n        document.querySelectorAll('.modal-dialog').forEach((modal) => {\n            modal.style.display = \"none\"\n        })\n        if (flag) {\n            document.querySelector('.modal-success').style.display = \"flex\"\n            setTimeout(()=> {\n                document.querySelector('.modal-success').classList.add('show')\n            }, 100)\n            document.querySelector('.modal-success .modal-content').style.display=\"block\"\n        } else {\n            document.querySelector('.modal-danger').style.display = \"flex\"\n            setTimeout(()=> {\n                document.querySelector('.modal-danger').classList.add('show')\n            }, 100)\n            document.querySelector('.modal-danger .modal-content').style.display=\"block\"\n        }\n    }\n\n    const checkFields = (event) => {\n        const form_ = event.target.closest('form')\n        let json = {}\n        let attach = null\n        let flag = true\n        form_.querySelectorAll('input, select, textarea').forEach((element) => {\n            if (element.type == 'file') {\n                if (element.getAttribute('check')!='false'){\n                    if (element.files.length != 0) {\n                        attach = element.files[0]\n                        json = { ...json, files: element.files}\n                        element.closest('.mb-2').classList.remove('error')\n                        //element.closest('.row-center').querySelector('.image').classList.remove('error')\n                        //element.closest('.row-center').parentNode.querySelector('.image-span').classList.remove('error')\n                    } else {\n                        flag = false\n                        element.closest('.mb-2').classList.add('error')\n                        \n                    }\n                }\n            } else if (element.type == 'hidden') {\n                console.log(element)\n                if (Number.isNaN(parseInt(element.value)) || element.getAttribute('name')==\"ID\") {\n                    json = { ...json, [element.getAttribute('name')]: element.value }\n                } else {\n                    json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                }\n                if (element.value == \"\") {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                }\n            } else if (element.type == 'number') {\n                if (Number.isNaN(parseInt(element.value))) {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    element.closest('.form-group').classList.remove('error')\n                    json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                }\n            } else if (element.type == 'textarea') {\n                if (element.value==\"\") {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    element.closest('.form-group').classList.remove('error')\n                    json = { ...json, [element.getAttribute('name')]: element.value }\n                }\n            } else {\n                \n                if (element.value.trim().length == 0) {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    \n                    element.closest('.form-group').classList.remove('error')\n                    if (element.type == \"select-one\") {\n                        if (element.value == \"true\") {\n                            json = { ...json, [element.getAttribute('name')]: true }\n                        } else if (element.value == \"false\") {\n                            json = { ...json, [element.getAttribute('name')]: false }\n                        } else {\n                            if (element.getAttribute('name')!==\"role\") {\n                                json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                            } else {\n                                json = { ...json, [element.getAttribute('name')]: element.value}\n                            }\n                        }\n                    } else {\n                        if (element.getAttribute('name').indexOf('time')!==-1){\n                            let date = new Date(Date.parse(element.value))\n                            json = { ...json, [element.getAttribute('name')]: date.toISOString() }\n                        } else {\n                            json = { ...json, [element.getAttribute('name')]: element.value }\n                        }\n\n                    }\n                }\n            }\n        })\n        if (flag) {\n            setLoading(true)\n            \n            //form.action(json)\n            let flag = false\n            if (form.fields.map((field) => {\n                if (field.type==\"file\") {\n                    flag = true\n                }\n            }))\n            if (!flag) {\n                axios({\n                    url: form.url,\n                    method: form.type,\n                    data: json,\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'application/json',\n                    },\n                }).then((response) => {\n                    if (form.type==\"put\") json.ID = response.data.id\n                    if (response.data.user!=null) json.User = response.data.user\n                    form.action(json)\n                    setLoading(false)\n                    if (form.clear!==false) clearFields(event)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(true)\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                    setLoading(false)\n                    showResultModal(false)\n                })\n            } else if (flag) {\n                const formData = new FormData();\n                Object.keys(json).map((name) => {\n                    if (name!=\"files\") {\n                        formData.append(name, json[name]);\n                    }\n                })\n                if (json.files!=undefined && json.files.length>0) {\n                    Array.from(json.files).forEach(file => { formData.append('files', file)});\n                }\n                axios({\n                    url: form.url,\n                    method: form.type,\n                    data: formData,\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'multipart/form-data',\n                    },\n                }).then((response) => {\n                    if (form.type==\"put\") json.ID = response.data.id\n                    form.action(json)\n                    setLoading(false)\n                    if (form.clear!==false) clearFields(event)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(true)\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                    setLoading(false)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(false)\n                    }\n                });\n                /*\n                form.fields.map((field) => {\n                    if (field.name!=\"files\") {\n                        formData.append(field.name, 'ADD');\n                    }\n                })\n                formData.append('action', 'ADD');\n                formData.append('param', 0);\n                formData.append('secondParam', 0);\n                formData.append('file', new Blob(['test payload'], {\n                type: 'text/csv',\n                }));\n                */\n            }\n            \n        }\n    }\n\n    const inputChange = (e) => {\n        if (form.date!=null) {\n            for(let i=0; i<Object.keys(form.date).length; i++) {\n                let name = Object.keys(form.date)[i];\n                if (name.toLowerCase() == e.target.name.toLowerCase()) {\n                    form.edit({\n                        ...form.date,\n                        [name]:e.target.value\n                    })\n                    break;\n                }\n            }\n        }\n    }\n\n    const generateFields = form.fields.map((field) => {\n        if (field.type == \"text\" || field.type == \"number\") {\n            let value=\"\";\n            if (form.date!=null) {\n               \n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <React.Fragment>\n                        <label>{field.name}:</label>\n                        <div className=\"form-group\">\n                            {value==\"\"?<input className=\"form-control\" type={field.type} id={field.name}  name={field.json} />:<input className=\"form-control\" onChange={inputChange} type={field.type} id={field.name}  name={field.json} value={value} />}\n                            <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                        </div>\n                    </React.Fragment>\n        }\n\n        \n\n        if (field.type == \"hidden\"){\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <input name={field.json}  type={field.type} value={value==\"\"?field.value:value} />\n        }\n\n        if (field.type == \"select\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <div className=\"form-group\">\n                        <label for={field.json}>{field.name}</label>\n                        <select  className=\"form-select custom-select\" id={field.json} name={field.json}>\n                            <option selected=\"\"></option>\n                            {field.options.map((option) => {\n                                return value==option.value?<option selected value={option.value}>{option.name}</option>:<option value={option.value}>{option.name}</option>\n                            })}\n                        </select>\n                        <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                    </div> \n        }\n\n        if (field.type == \"textarea\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <div className=\"col-12\" style={{padding:0}}><div className=\"mb1 form-group\">\n                        <label for={field.json}>{field.name}</label>\n                        {value!=\"\"?<textarea id={field.json} value={value} onChange={inputChange} name={field.json} className=\"form-control\"></textarea>:<textarea id={field.json} name={field.json} className=\"form-control\"></textarea>}\n                        <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                    </div></div>\n        }\n\n        if (field.type == \"date\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <DatePickerInput {...field} value={value} />\n        }\n\n        if (field.type == \"choose\") {\n            console.log(field)\n            return <ChooseOptions {...field} />\n        }\n\n        if (field.type == \"file\") {\n            const imageContainerClick = (event) => {\n                event.preventDefault()\n                event.currentTarget.parentNode.querySelector('input[type=\"file\"]').click()\n                \n            }\n            const onImageChange = (event) => {\n                event.preventDefault()\n                event.target.setAttribute('check', 'true')\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',   URL.createObjectURL(event.target.files[0]))\n            }\n\n            const onImageDelete = (event) => {\n                event.preventDefault()\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').setAttribute('check', 'true')\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',   \"/public/other/placeholder_image.jpg\")\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').value = null\n            }\n            let image=\"\"\n            if (form.date!=null) {\n                image = form.imageurl+\"/\"+form.date.ID+\"/\"+form.date.ID+\".jpg\"\n            }\n            return <React.Fragment>\n                        <div className=\"form-group\">\n                            <label style={{with:\"100%\"}}>{field.name}:</label>\n                        </div>\n                        <div className={field.wide!=true?\"media mb-2\":\"mb-2\"} >\n                            <a onClick={imageContainerClick}><img src={image!=\"\"?image:\"/public/other/placeholder_image.jpg\"} alt=\"users avatar\" className={field.wide==true?\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer wide-img\":\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer\"} width=\"150\" height=\"150\" />\n                            </a>\n                            <div className=\"media-body mt-50\">\n                                <div className=\"col-12 d-flex mt-1 px-0\">\n                                    <label className=\"btn btn-primary mr-75 mb-0 waves-effect waves-float waves-light\" hrmlFor=\"change-picture\">\n                                        <span className=\"d-none d-sm-block\"><Edit size=\"20\" /> Изменить</span>\n                                        <input check={image!=\"\"?\"false\":\"true\"} onChange={onImageChange} className=\"form-control\" type=\"file\" id=\"change-picture\" accept=\"image/png, image/jpeg, image/jpg\" />\n                                        <span className=\"d-block d-sm-none\">\n                                            <Edit onClick={onImageChange} />\n                                        </span>\n                                    </label>\n                                    <button onClick={onImageDelete} className=\"btn btn-outline-primary d-none d-sm-block waves-effect\"><Trash size=\"20\" /> Удалить</button>\n                                    <button className=\"btn btn-outline-primary d-block d-sm-none waves-effect\">\n                                        <Trash onClick={onImageDelete} />\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </React.Fragment>\n        }\n    })\n\n    const btnSend = (e) => {\n        checkFields(e)\n    }\n\n    const clearFields = (e) => {\n        const form_ = document.querySelector('.'+form.name)\n        form_.querySelectorAll('input, select, textarea').forEach((element) => {\n            if (element.type == 'file') {\n                element.value = null\n                element.parentNode.parentNode.parentNode.parentNode.querySelector('img').setAttribute('src', \"/public/other/placeholder_image.jpg\")\n            } else if (element.type == \"text\"){\n                element.value = \"\"\n            } else if(element.type == \"hidden\") {\n                //element.value = \"\"\n            }  else {\n                element.value = null\n            }\n        })\n    }\n\n\n    return (<React.Fragment ><div className={\"modal-dialog modal-dialog-centered \"+form.name} role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\" id=\"myModalLabel33\">{form.title}</h4><br />\n                        <button type=\"button\" className=\"btn-close\" onClick={closeModal} data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    {form.subtitle!=null?<span style={{paddingLeft:\"1.5rem\", paddingTop:\"1rem\"}} className=\"modal-title\" id=\"myModalLabel33\">{form.subtitle}</span>:<div></div>}\n                    \n                    {loading?<SpinnerContext />:\"\"}\n                    {form.question!=null? //для alertа вы действительно хотите удалить?\n                    <div>\n                        <form action=\"#\">\n                            <div className=\"modal-body\" style={{textAlign:\"center\"}}>\n                                <br />\n                                <br />\n                                <span style={{fontSize: \"18px\"}}>{form.question}</span>\n                                <br />\n                                <br />\n                                {generateFields}\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"btn btn-outline-primary waves-effect waves-float waves-light\" onClick={closeModal} data-dismiss=\"modal\">Нет</button>\n                                <button type=\"button\" onClick={btnSend} className=\"btn btn-danger waves-effect waves-float waves-light\" data-dismiss=\"modal\">Да</button>\n                            </div>\n                        </form>\n                    </div>:\n                    <form action=\"#\">\n                        <div className=\"modal-body\">\n                            {generateFields}\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-outline-primary waves-effect waves-float waves-light\" onClick={closeModal} data-dismiss=\"modal\">Отмена</button>\n                            <button type=\"button\" onClick={btnSend} className=\"btn btn-primary waves-effect waves-float waves-light\" data-dismiss=\"modal\">Отправить</button>\n                        </div>\n                    </form>}\n                </div>\n            </div>\n\n            </ React.Fragment>\n            \n    )\n}\n\nexport default TextModal"]},"metadata":{},"sourceType":"module"}