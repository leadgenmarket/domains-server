{"ast":null,"code":"import _classCallCheck from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import MenuItemChildren from'./menu-item-children';import React,{Component}from\"react\";import{bindActionCreators}from'redux';import{fetchLogout}from'../../actions';import{withApiService}from'../../components/hoc';import{connect}from'react-redux';import'./menu-item.css';import{useNavigate,useLocation}from\"react-router-dom\";import{compose}from'../../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MenuItem=function MenuItem(_ref){var item=_ref.item,logout=_ref.logout;var location=useLocation().pathname;var navigate=useNavigate();var pushHistory=function pushHistory(url){navigate(url,{replace:true});};var childClick=function childClick(e){e.preventDefault();e.currentTarget.parentNode.querySelectorAll('li').forEach(function(el){el.classList.remove('mm-active');});var menuItem=e.currentTarget;menuItem.classList.add('mm-active');pushHistory(menuItem.getAttribute('url'));};var childrenHtml=item.children.map(function(item){return/*#__PURE__*/_jsx(MenuItemChildren,{item:item,click:childClick},item.children);});var menuClick=function menuClick(e){e.preventDefault();if(logout!=null){console.log(logout);logout();}var menuItem=e.currentTarget.parentElement;if(menuItem.querySelector('.sub-menu')!=undefined){if(menuItem.querySelector('.sub-menu').classList.contains(\"mm-collapse\")){menuItem.classList.add('mm-active');menuItem.querySelector('.sub-menu').classList.remove('mm-collapse');}else{menuItem.classList.remove('mm-active');menuItem.querySelector('.sub-menu').classList.add('mm-collapse');}}else{document.querySelectorAll('#side-menu li').forEach(function(el){el.classList.remove('mm-active');});menuItem.classList.add('mm-active');pushHistory(menuItem.getAttribute('url'));}};return/*#__PURE__*/_jsxs(\"li\",{url:item.url,children:[/*#__PURE__*/_jsxs(\"a\",{onClick:menuClick,className:item.children.length!=0?\"has-arrow active\":\"active\",href:\"#\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"nav-item-icon\",children:item.icon}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]}),item.children.length!=0?/*#__PURE__*/_jsx(\"ul\",{className:\"sub-menu mm-collapse\",children:childrenHtml},item.url+\"_expand\"):\"\"]},item.url);};var MenuItemContainer=/*#__PURE__*/function(_Component){_inherits(MenuItemContainer,_Component);var _super=_createSuper(MenuItemContainer);function MenuItemContainer(){_classCallCheck(this,MenuItemContainer);return _super.apply(this,arguments);}_createClass(MenuItemContainer,[{key:\"componentDidMount\",value:function componentDidMount(){//this.props.login();\n}},{key:\"render\",value:function render(){var _this$props=this.props,item=_this$props.item,logout=_this$props.logout;if(item.name==\"Выход\"){return/*#__PURE__*/_jsx(MenuItem,{item:item,logout:logout});}else{return/*#__PURE__*/_jsx(MenuItem,{item:item,logout:null});}}}]);return MenuItemContainer;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref2){var apiService=_ref2.apiService;return bindActionCreators({logout:fetchLogout(apiService)},dispatch);};export default compose(withApiService(),connect(null,mapDispatchToProps))(MenuItemContainer);","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/side-menu/menu-item.js"],"names":["MenuItemChildren","React","Component","bindActionCreators","fetchLogout","withApiService","connect","useNavigate","useLocation","compose","MenuItem","item","logout","location","pathname","navigate","pushHistory","url","replace","childClick","e","preventDefault","currentTarget","parentNode","querySelectorAll","forEach","el","classList","remove","menuItem","add","getAttribute","childrenHtml","children","map","menuClick","console","log","parentElement","querySelector","undefined","contains","document","length","icon","name","MenuItemContainer","props","mapDispatchToProps","dispatch","apiService"],"mappings":"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","sourcesContent":["import MenuItemChildren from './menu-item-children'\nimport React, {Component}  from \"react\";\nimport { bindActionCreators } from 'redux';\nimport {fetchLogout} from '../../actions'\nimport { withApiService } from '../../components/hoc';\nimport { connect } from 'react-redux';\nimport './menu-item.css'\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { compose } from '../../utils';\nconst MenuItem = ({item, logout}) => {\n    const location = useLocation().pathname;\n    let navigate = useNavigate();\n    \n    const pushHistory = (url) => {\n        navigate(url, { replace: true })\n    }\n\n    const childClick = (e) => {\n        e.preventDefault()\n        e.currentTarget.parentNode.querySelectorAll('li').forEach((el) => {\n            el.classList.remove('mm-active') \n        })\n        let menuItem = e.currentTarget\n        menuItem.classList.add('mm-active') \n        pushHistory(menuItem.getAttribute('url'))\n    }\n    const childrenHtml = item.children.map((item)=>{\n        return <MenuItemChildren key={item.children} item={item} click={childClick}/>\n    }) \n    const menuClick = (e) => {\n        e.preventDefault()\n        if (logout!=null){\n            console.log(logout)\n            logout()\n        }\n        let menuItem = e.currentTarget.parentElement\n        if (menuItem.querySelector('.sub-menu')!=undefined){\n            if ( menuItem.querySelector('.sub-menu').classList.contains(\"mm-collapse\")) {\n                menuItem.classList.add('mm-active')\n                menuItem.querySelector('.sub-menu').classList.remove('mm-collapse')\n            }\n            else {\n                menuItem.classList.remove('mm-active')\n                menuItem.querySelector('.sub-menu').classList.add('mm-collapse')\n            }\n        } else {\n            document.querySelectorAll('#side-menu li').forEach((el) => {\n                el.classList.remove('mm-active')\n            })\n            menuItem.classList.add('mm-active')\n            pushHistory(menuItem.getAttribute('url'))\n        }\n    }\n    return (\n        <li key={item.url} url={item.url}>\n            <a onClick={menuClick} className={item.children.length!=0?\"has-arrow active\":\"active\"} href=\"#\"><i className=\"nav-item-icon\">{item.icon}</i><span>{item.name}</span></a>\n            {item.children.length!=0?\n                <ul key={item.url+\"_expand\"} className=\"sub-menu mm-collapse\">\n                    {childrenHtml}\n                </ul>:\n                \"\"}\n        </li>\n    )\n}\n\nclass MenuItemContainer extends Component {\n\n    componentDidMount() {\n      //this.props.login();\n    }\n  \n    render() {\n      const {item, logout} = this.props;\n    if  (item.name==\"Выход\"){\n      return <MenuItem item= {item} logout={logout} />;\n    } else {\n        return  <MenuItem item= {item} logout={null} />\n    }\n    }\n  }\n  \n  \n  \n  const mapDispatchToProps = (dispatch, { apiService}) => {\n    return bindActionCreators({\n        logout: fetchLogout(apiService)\n    }, dispatch);\n  };\n  \n  export default compose(\n    withApiService(),\n    connect(null, mapDispatchToProps)\n  )(MenuItemContainer);"]},"metadata":{},"sourceType":"module"}