{"ast":null,"code":"var _jsxFileName = \"/Users/laurkankusu/Documents/development/domains-server/plans/src/components/modals/components/date-picker-input/date-picker-input.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport \"flatpickr/dist/themes/light.css\";\nimport Flatpickr from \"react-flatpickr\";\nimport { Russian } from \"flatpickr/dist/l10n/ru.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DatePickerInput = _ref => {\n  _s();\n\n  let {\n    name,\n    json,\n    value,\n    enable\n  } = _ref;\n  const [date, setDate] = useState();\n  const group = /*#__PURE__*/React.createRef();\n  var startDate = new Date().toISOString().slice(0, 10);\n\n  const setToinput = date => {\n    document.querySelectorAll('input[name=\"' + json + '\"]').forEach(el => {\n      let parsedDate = new Date(Date.parse(date));\n      el.setAttribute('value', parsedDate.toISOString());\n      let elem = group.current; //setDate(date)\n\n      setTimeout(() => {\n        elem.querySelector('input').setAttribute('value', parsedDate.toISOString());\n      }, 200);\n    }); //setDate(date)\n  };\n\n  useEffect(() => {\n    if (value != undefined && value != null && value.length > 0) {\n      let elem = group.current;\n      let parsedDate = new Date(Date.parse(value));\n      setDate([parsedDate]);\n      setTimeout(() => {\n        elem.querySelector('input').setAttribute('value', value);\n      }, 200);\n    }\n  }, [value]);\n\n  const option = () => {\n    if (enable === false) {\n      return {\n        \"data-enable-time\": true\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [name, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: group,\n      className: \"form-group\",\n      children: [enable === false ? /*#__PURE__*/_jsxDEV(Flatpickr, {\n        className: \"form-control flatpickr-inline flatpickr-input\",\n        value: date,\n        name: json,\n        options: {\n          minDate: value.length == 0 ? startDate : \"\",\n          locale: Russian\n        },\n        onChange: date => setToinput(date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 42\n      }, this) : /*#__PURE__*/_jsxDEV(Flatpickr, {\n        \"data-enable-time\": true,\n        className: \"form-control flatpickr-inline flatpickr-input\",\n        value: date,\n        name: json,\n        options: {\n          minDate: value.length == 0 ? startDate : \"\",\n          locale: Russian\n        },\n        onChange: date => setToinput(date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"invalid-feedback\",\n        children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 12\n  }, this);\n};\n\n_s(DatePickerInput, \"NTwm0wIRjt5R8WqyV9Q70YlPXs4=\");\n\n_c = DatePickerInput;\nexport default DatePickerInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"DatePickerInput\");","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/plans/src/components/modals/components/date-picker-input/date-picker-input.js"],"names":["useEffect","useRef","useState","Flatpickr","Russian","React","DatePickerInput","name","json","value","enable","date","setDate","group","createRef","startDate","Date","toISOString","slice","setToinput","document","querySelectorAll","forEach","el","parsedDate","parse","setAttribute","elem","current","setTimeout","querySelector","undefined","length","option","minDate","locale"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport \"flatpickr/dist/themes/light.css\";\nimport Flatpickr from \"react-flatpickr\";\nimport { Russian } from \"flatpickr/dist/l10n/ru.js\"\nimport React from \"react\";\n\n\n\nconst DatePickerInput = ({name, json, value, enable}) => {\n    const [date, setDate] =useState()\n    const group = React.createRef();\n    var startDate = new Date().toISOString().slice(0,10)\n    const setToinput =(date) => {\n        document.querySelectorAll('input[name=\"'+json+'\"]').forEach(el => {\n            let parsedDate = new Date(Date.parse(date))\n            el.setAttribute('value',parsedDate.toISOString())\n            let elem = group.current\n            //setDate(date)\n            setTimeout(()=> {\n                elem.querySelector('input').setAttribute('value',parsedDate.toISOString())\n            },200)\n        })\n        //setDate(date)\n    }\n    \n\n    useEffect(() => {\n        if(value !=undefined && value !=null && value.length>0) {\n            let elem = group.current\n            let parsedDate = new Date(Date.parse(value))\n            setDate([parsedDate])\n\n            setTimeout(()=> {\n                elem.querySelector('input').setAttribute('value', value)\n            }, 200)\n        }\n    }, [value])\n    const option = () => {\n        if (enable ===false) {\n            return {\"data-enable-time\":true}\n        }\n    }\n    return <React.Fragment>\n                <label>{name}:</label>\n                <div ref = {group} className=\"form-group\">\n                        {enable ===false?<Flatpickr\n                            className=\"form-control flatpickr-inline flatpickr-input\"\n                            value={date}\n                            name={json}\n                            options={{\n                                minDate: value.length==0?startDate:\"\",\n                                locale: Russian }}\n                            onChange={date => setToinput(date)}\n                            />:\n                            <Flatpickr\n                                data-enable-time\n                                className=\"form-control flatpickr-inline flatpickr-input\"\n                                value={date}\n                                name={json}\n                                options={{\n                                    minDate: value.length==0?startDate:\"\",\n                                    locale: Russian }}\n                                onChange={date => setToinput(date)}\n                            />\n                        }\n                        <div class=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                </div>\n            </React.Fragment>\n}\n\nexport default DatePickerInput"]},"metadata":{},"sourceType":"module"}