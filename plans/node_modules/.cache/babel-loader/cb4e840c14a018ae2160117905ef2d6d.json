{"ast":null,"code":"import _classCallCheck from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _slicedToArray from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PageTitle from\"../../page-title\";import TableItem from\"./table-item\";import{Modals,showModal}from\"../../modals\";import forms from\"./forms\";import{compose}from\"../../../utils\";import{withApiService}from\"../../hoc\";import{connect}from\"react-redux\";import{bindActionCreators}from'redux';import{Component,useEffect,useState}from\"react\";import{fetchDomains}from\"../../../actions/domains\";import{Spinner}from\"../../spinner\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import ApiService from\"../../../services/api-service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DomainsPage=function DomainsPage(_ref){var domains=_ref.domains;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),templates=_useState2[0],setTemplates=_useState2[1];var navigate=useNavigate();useEffect(function(){var apiService=new ApiService();apiService.templatesList().then(function(response){setTemplates(response.data);});},[]);var getTemplateById=function getTemplateById(id){var name=\"\";if(templates!=null){templates.map(function(template){if(template.ID==id){name=template.Name;}});}return name;};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(PageTitle,{title:\"Список доменов\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",style:{display:\"flex\",justifyContent:\"end\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){navigate('/admin/add',{replace:false});},type:\"button\",className:\"btn btn-primary waves-effect waves-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"feather-plus\"}),\" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u043C\\u0435\\u043D\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"DataTables_Table_0_wrapper\",className:\"dataTables_wrapper dt-bootstrap4 no-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_length\",id:\"DataTables_Table_0_length\",children:/*#__PURE__*/_jsxs(\"label\",{style:{display:\"flex\"},children:[\"Show \",/*#__PURE__*/_jsxs(\"select\",{style:{width:\"60px\",marginLeft:\"10px\",marginRight:\"10px\"},className:\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\"})]}),\" entries\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{id:\"DataTables_Table_0_filter\",className:\"dataTables_filter\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u043E\\u0438\\u0441\\u043A:\",/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control form-control-sm\",placeholder:\"\",\"aria-controls\":\"DataTables_Table_0\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\",style:{borderCollapse:\"collapse\",borderSpacing:\"0px 8px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-transparent\",role:\"row\",children:[/*#__PURE__*/_jsx(\"th\",{style:{width:\"30px\"},className:\"sorting sorting_asc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check font-size-16\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"check\",className:\"form-check-input\",id:\"checkAll\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"checkAll\"})]})}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"URL\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"80px\"},className:\"sorting\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:domains.map(function(domain){domain.templateName=getTemplateById(domain.template_id);return/*#__PURE__*/_jsx(TableItem,{domain:domain});})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_info\",id:\"DataTables_Table_0_info\",role:\"status\",\"aria-live\":\"polite\",children:\"Showing 1 to 10 of 12 entries\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_paginate paging_simple_numbers\",id:\"DataTables_Table_0_paginate\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item previous disabled\",id:\"DataTables_Table_0_previous\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"0\",tabindex:\"0\",className:\"page-link\",children:\"Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item active\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"1\",tabindex:\"0\",className:\"page-link\",children:\"1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item \",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"2\",tabindex:\"0\",className:\"page-link\",children:\"2\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item next\",id:\"DataTables_Table_0_next\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"3\",tabindex:\"0\",className:\"page-link\",children:\"Next\"})})]})})})]})]})})]})})})})]})}),/*#__PURE__*/_jsx(Modals,{forms:forms})]});};var DomainListPageContainer=/*#__PURE__*/function(_Component){_inherits(DomainListPageContainer,_Component);var _super=_createSuper(DomainListPageContainer);function DomainListPageContainer(){_classCallCheck(this,DomainListPageContainer);return _super.apply(this,arguments);}_createClass(DomainListPageContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchDomains();}},{key:\"render\",value:function render(){var _this$props=this.props,domains=_this$props.domains,loading=_this$props.loading,error=_this$props.error;if(loading||domains==null){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(DomainsPage,{domains:domains,loading:loading,error:error});}}]);return DomainListPageContainer;}(Component);var mapStateToProps=function mapStateToProps(_ref2){var _ref2$domainsList=_ref2.domainsList,domains=_ref2$domainsList.domains,loading=_ref2$domainsList.loading,error=_ref2$domainsList.error;return{domains:domains,loading:loading,error:error};};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref3){var apiService=_ref3.apiService;return bindActionCreators({fetchDomains:fetchDomains(apiService)},dispatch);};export default compose(withApiService(),connect(mapStateToProps,mapDispatchToProps))(DomainListPageContainer);","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/pages/domains-page/domains-page.js"],"names":["PageTitle","TableItem","Modals","showModal","forms","compose","withApiService","connect","bindActionCreators","Component","useEffect","useState","fetchDomains","Spinner","axios","useNavigate","ApiService","DomainsPage","domains","templates","setTemplates","navigate","apiService","templatesList","then","response","data","getTemplateById","id","name","map","template","ID","Name","display","justifyContent","replace","width","marginLeft","marginRight","borderCollapse","borderSpacing","domain","templateName","template_id","DomainListPageContainer","props","loading","error","mapStateToProps","domainsList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import PageTitle from \"../../page-title\"\nimport TableItem from \"./table-item\"\nimport { Modals, showModal } from \"../../modals\"\nimport forms from \"./forms\"\nimport { compose } from \"../../../utils\";\nimport { withApiService } from \"../../hoc\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport { Component, useEffect, useState } from \"react\";\nimport { fetchDomains } from \"../../../actions/domains\";\nimport { Spinner } from \"../../spinner\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\"\nimport ApiService from \"../../../services/api-service\";\n\nconst DomainsPage = ({domains}) => {\n    const [templates, setTemplates] = useState(null)\n    const navigate= useNavigate();\n    useEffect(()=>{\n        let apiService=new ApiService\n        apiService.templatesList().then((response) => {\n            setTemplates(response.data)\n        })\n    },[])\n\n    const getTemplateById = (id) => {\n        let name = \"\"\n        if (templates!= null) {\n            templates.map(template => {\n                if (template.ID == id) {\n                    name = template.Name\n                }\n            });\n            \n        }\n        return name\n    }\n    return(<div className=\"main-content\">\n        <div className=\"page-content\">\n            <div className=\"container-fluid\">\n                <PageTitle title={\"Список доменов\"} />\n                <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"\" style={{display:\"flex\", justifyContent:\"end\"}}>\n                                    <div className=\"mb-4\">\n                                        <button onClick={() =>{navigate('/admin/add', { replace: false })}} type=\"button\" className=\"btn btn-primary waves-effect waves-light\"><i className=\"feather-plus\"></i> Добавить домен</button>\n                                    </div>\n                                </div>\n                                <div className=\"table-responsive\">\n                                    <div id=\"DataTables_Table_0_wrapper\" className=\"dataTables_wrapper dt-bootstrap4 no-footer\"><div className=\"row\"><div className=\"col-sm-12 col-md-6\"><div className=\"dataTables_length\" id=\"DataTables_Table_0_length\">\n                                        <label style={{display:\"flex\"}}>\n                                            Show <select style={{width:\"60px\", marginLeft:\"10px\", marginRight:\"10px\"}} className=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\n                                                <option value=\"10\">10</option>\n                                                <option value=\"25\">25</option>\n                                                <option value=\"50\">50</option>\n                                                <option value=\"100\">100</option>\n                                                </select> entries\n                                        </label>\n                                    </div>\n                                </div>\n                                <div className=\"col-sm-12 col-md-6\">\n                                    <div id=\"DataTables_Table_0_filter\" className=\"dataTables_filter\">\n                                        <label>Поиск:<input type=\"search\" className=\"form-control form-control-sm\" placeholder=\"\" aria-controls=\"DataTables_Table_0\" /></label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-sm-12\">\n                                    <table className=\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\" style={{borderCollapse: \"collapse\", borderSpacing: \"0px 8px\", width: \"100%\"}} >\n                                        <thead>\n                                            <tr className=\"bg-transparent\" role=\"row\">\n                                                <th style={{width: \"30px\"}} className=\"sorting sorting_asc\">\n                                                    <div className=\"form-check\n                                                        font-size-16\">\n                                                        <input type=\"checkbox\" name=\"check\" className=\"form-check-input\" id=\"checkAll\" />\n                                                        <label className=\"form-check-label\" htmlFor=\"checkAll\"></label>\n                                                    </div>\n                                                </th>\n                                                <th style={{width: \"80px\"}} className=\"sorting\" >ID</th>\n                                                <th style={{width: \"80px\"}} className=\"sorting\" >URL</th>\n                                                <th style={{width: \"80px\"}} className=\"sorting\" >Шаблон</th>\n                                                <th style={{width: \"80px\"}} className=\"sorting\" >Дата создания</th>\n                                                <th style={{width: \"80px\"}} className=\"sorting\" >Действия</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {\n                                                domains.map((domain) => {\n                                                    domain.templateName = getTemplateById(domain.template_id)\n                                                    return  <TableItem domain = {domain} />\n                                                })\n                                            }\n                                        </tbody>\n                                    </table>\n                                </div>\n                                </div>\n                                    <div className=\"row\">\n                                        <div className=\"col-sm-12 col-md-5\">\n                                            <div className=\"dataTables_info\" id=\"DataTables_Table_0_info\" role=\"status\" aria-live=\"polite\">Showing 1 to 10 of 12 entries</div>\n                                        </div>\n                                        <div className=\"col-sm-12 col-md-7\">\n                                            <div className=\"dataTables_paginate paging_simple_numbers\" id=\"DataTables_Table_0_paginate\">\n                                                <ul className=\"pagination\">\n                                                    <li className=\"paginate_button page-item previous disabled\" id=\"DataTables_Table_0_previous\">\n                                                        <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"0\" tabindex=\"0\" className=\"page-link\">Previous</a>\n                                                    </li>\n                                                    <li className=\"paginate_button page-item active\">\n                                                        <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"1\" tabindex=\"0\" className=\"page-link\">1</a>\n                                                    </li>\n                                                    <li className=\"paginate_button page-item \">\n                                                        <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"2\" tabindex=\"0\" className=\"page-link\">2</a>\n                                                    </li>\n                                                    <li className=\"paginate_button page-item next\" id=\"DataTables_Table_0_next\">\n                                                        <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"3\" tabindex=\"0\" className=\"page-link\">Next</a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <Modals forms={forms} />\n\n</div>\n    )\n}\n\n\nclass DomainListPageContainer extends Component {\n    \n    componentDidMount() {\n      this.props.fetchDomains();\n    }\n  \n    render() {\n      const { domains, loading, error } = this.props;\n      if (loading || domains == null) {\n          return <Spinner />\n      }\n      return <DomainsPage domains={domains} loading={loading} error={error} />;\n    }\n  }\n  \n  const mapStateToProps = ({ domainsList: { domains, loading, error }}) => {\n    return { domains, loading, error };\n  };\n  \n  const mapDispatchToProps = (dispatch, { apiService}) => {\n    return bindActionCreators({\n        fetchDomains: fetchDomains(apiService),\n    }, dispatch);\n  };\n\n  export default compose(\n    withApiService(),\n    connect(mapStateToProps, mapDispatchToProps)\n  )(DomainListPageContainer);"]},"metadata":{},"sourceType":"module"}