{"ast":null,"code":"import axios from \"axios\";\n\nconst sendFormWithAttach = (url, form, type) => {\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  const send = new FormData();\n  Object.keys(form).forEach(key => {\n    if (key == \"files\") {\n      if (form[key].length > 1) {\n        form[key].forEach(el => {\n          send.append(\"files\", form[key]);\n        });\n      } else {\n        send.append('file', form[key][0]);\n      }\n    }\n\n    send.append(key, form[key]);\n  });\n\n  if (type == 'post') {\n    return axios.post(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  } else if (type == 'put') {\n    return axios.put(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  }\n};\n\nexport default class ApiService {\n  constructor() {\n    this.login = (phone, pass) => {\n      return axios.post(\"/sign-in\", {\n        phone,\n        pass\n      });\n    };\n\n    this.ping = () => {\n      return axios.get(\"/api/ping\");\n    };\n\n    this.logout = () => {\n      return axios.get(\"/auth/logout\");\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/services/api-service.js"],"names":["axios","sendFormWithAttach","url","form","type","config","headers","send","FormData","Object","keys","forEach","key","length","el","append","post","put","ApiService","login","phone","pass","ping","get","logout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,kBAAkB,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC5C,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AADE,GAAf;AAGE,QAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYP,IAAZ,EAAkBQ,OAAlB,CAA2BC,GAAD,IAAS;AACjC,QAAIA,GAAG,IAAI,OAAX,EAAmB;AACf,UAAIT,IAAI,CAACS,GAAD,CAAJ,CAAUC,MAAV,GAAiB,CAArB,EAAwB;AACpBV,QAAAA,IAAI,CAACS,GAAD,CAAJ,CAAUD,OAAV,CAAmBG,EAAD,IAAO;AACrBP,UAAAA,IAAI,CAACQ,MAAL,CAAY,OAAZ,EAAqBZ,IAAI,CAACS,GAAD,CAAzB;AACH,SAFD;AAGH,OAJD,MAIO;AACHL,QAAAA,IAAI,CAACQ,MAAL,CAAY,MAAZ,EAAqBZ,IAAI,CAACS,GAAD,CAAJ,CAAU,CAAV,CAArB;AACH;AACJ;;AACDL,IAAAA,IAAI,CAACQ,MAAL,CAAYH,GAAZ,EAAiBT,IAAI,CAACS,GAAD,CAArB;AACD,GAXD;;AAYA,MAAGR,IAAI,IAAE,MAAT,EAAgB;AACd,WAAOJ,KAAK,CAACgB,IAAN,CAAWd,GAAX,EAAgBK,IAAhB,EAAuB;AAACD,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAV,KAAvB,CAAP;AACD,GAFD,MAEO,IAAGF,IAAI,IAAI,KAAX,EAAiB;AACtB,WAAOJ,KAAK,CAACiB,GAAN,CAAUf,GAAV,EAAeK,IAAf,EAAsB;AAACD,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAV,KAAtB,CAAP;AACD;AACN,CAtBD;;AAwBA,eAAe,MAAMY,UAAN,CAAgB;AAAA;AAAA,SAC3BC,KAD2B,GACnB,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACrB,aAAOrB,KAAK,CAACgB,IAAN,CAAW,UAAX,EAAuB;AAACI,QAAAA,KAAD;AAAOC,QAAAA;AAAP,OAAvB,CAAP;AACH,KAH0B;;AAAA,SAK3BC,IAL2B,GAKpB,MAAM;AACT,aAAOtB,KAAK,CAACuB,GAAN,CAAU,WAAV,CAAP;AACH,KAP0B;;AAAA,SAS3BC,MAT2B,GASlB,MAAM;AACX,aAAOxB,KAAK,CAACuB,GAAN,CAAU,cAAV,CAAP;AACH,KAX0B;AAAA;;AAAA","sourcesContent":["import axios from \"axios\"\n\nconst sendFormWithAttach = (url, form, type) => {\n    const config = {\n        headers: { 'content-type': 'multipart/form-data' }\n      }\n      const send = new FormData()\n      Object.keys(form).forEach((key) => {\n        if (key == \"files\"){\n            if (form[key].length>1) {\n                form[key].forEach((el) =>{\n                    send.append(\"files\", form[key]);\n                })\n            } else {\n                send.append('file',  form[key][0])\n            }\n        }\n        send.append(key, form[key])\n      })\n      if(type=='post'){\n        return axios.post(url, send,  {headers: { 'content-type': 'multipart/form-data' }})\n      } else if(type == 'put'){\n        return axios.put(url, send,  {headers: { 'content-type': 'multipart/form-data' }})\n      }\n}\n\nexport default class ApiService{\n    login = (phone, pass) => {\n        return axios.post(\"/sign-in\", {phone,pass})\n    }\n\n    ping = () => {\n        return axios.get(\"/api/ping\")\n    }\n\n    logout = () => {\n        return axios.get(\"/auth/logout\")\n    }\n}\n"]},"metadata":{},"sourceType":"module"}