{"ast":null,"code":"const loginRequested = () => {\n  return {\n    type: 'FETCH_LOGIN_REQUEST'\n  };\n};\n\nconst loginSuccess = () => {\n  return {\n    type: 'FETCH_LOGIN_SUCCESS'\n  };\n};\n\nconst loginError = error => {\n  return {\n    type: 'FETCH_LOGIN_ERROR',\n    payload: error\n  };\n};\n\nconst notAuthorized = () => {\n  return {\n    type: 'NOT_AUTHORIZED'\n  };\n};\n\nconst fetchLogin = apiService => _ref => {\n  let {\n    login,\n    pass\n  } = _ref;\n  return dispatch => {\n    dispatch(loginRequested());\n    apiService.login(login, pass).then(data => dispatch(loginSuccess(data))).catch(err => dispatch(loginError(err.response.data.Message)));\n  };\n};\n\nconst fetchLogout = apiService => () => dispatch => {\n  dispatch(loginRequested());\n  apiService.logout().then(() => dispatch(notAuthorized())).catch(() => {\n    dispatch(loginSuccess());\n  });\n};\n\nconst checkAuth = apiService => () => dispatch => {\n  dispatch(loginRequested());\n  apiService.ping().then(data => {\n    console.log(data);\n    dispatch(loginSuccess(data));\n  }).catch(() => {\n    dispatch(notAuthorized());\n  });\n};\n\nexport { fetchLogin, fetchLogout, checkAuth };","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/plans/src/actions/auths.js"],"names":["loginRequested","type","loginSuccess","loginError","error","payload","notAuthorized","fetchLogin","apiService","login","pass","dispatch","then","data","catch","err","response","Message","fetchLogout","logout","checkAuth","ping","console","log"],"mappings":"AAAA,MAAMA,cAAc,GAAG,MAAM;AACzB,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGH,CAJD;;AAMA,MAAMC,YAAY,GAAG,MAAM;AACvB,SAAO;AACLD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGH,CAJD;;AAMA,MAAME,UAAU,GAAIC,KAAD,IAAW;AAC1B,SAAO;AACLH,IAAAA,IAAI,EAAE,mBADD;AAELI,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAIH,CALD;;AAOA,MAAME,aAAa,GAAG,MAAM;AACxB,SAAO;AACLL,IAAAA,IAAI,EAAE;AADD,GAAP;AAGH,CAJD;;AASA,MAAMM,UAAU,GAAIC,UAAD,IAAgB;AAAA,MAAC;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,GAAD;AAAA,SAAoBC,QAAD,IAAc;AAChEA,IAAAA,QAAQ,CAACX,cAAc,EAAf,CAAR;AACAQ,IAAAA,UAAU,CAACC,KAAX,CAAiBA,KAAjB,EAAuBC,IAAvB,EACGE,IADH,CACSC,IAAD,IAAUF,QAAQ,CAACT,YAAY,CAACW,IAAD,CAAb,CAD1B,EAEGC,KAFH,CAEUC,GAAD,IAASJ,QAAQ,CAACR,UAAU,CAACY,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI,OAAnB,CAAX,CAF1B;AAGH,GALkC;AAAA,CAAnC;;AAOA,MAAMC,WAAW,GAAIV,UAAD,IAAgB,MAAOG,QAAD,IAAc;AACtDA,EAAAA,QAAQ,CAACX,cAAc,EAAf,CAAR;AACAQ,EAAAA,UAAU,CAACW,MAAX,GACGP,IADH,CACQ,MAAMD,QAAQ,CAACL,aAAa,EAAd,CADtB,EAEGQ,KAFH,CAES,MAAI;AAACH,IAAAA,QAAQ,CAACT,YAAY,EAAb,CAAR;AAAyB,GAFvC;AAGD,CALD;;AAQA,MAAMkB,SAAS,GAAIZ,UAAD,IAAgB,MAAOG,QAAD,IAAc;AACpDA,EAAAA,QAAQ,CAACX,cAAc,EAAf,CAAR;AACAQ,EAAAA,UAAU,CAACa,IAAX,GACGT,IADH,CACSC,IAAD,IAAU;AACdS,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACAF,IAAAA,QAAQ,CAACT,YAAY,CAACW,IAAD,CAAb,CAAR;AACD,GAJH,EAKGC,KALH,CAKS,MAAI;AACTH,IAAAA,QAAQ,CAACL,aAAa,EAAd,CAAR;AAA0B,GAN9B;AAOD,CATD;;AAWA,SACIC,UADJ,EAEIW,WAFJ,EAGIE,SAHJ","sourcesContent":["const loginRequested = () => {\n    return {\n      type: 'FETCH_LOGIN_REQUEST'\n    };\n};\n  \nconst loginSuccess = () => {\n    return {\n      type: 'FETCH_LOGIN_SUCCESS',\n    };\n};\n  \nconst loginError = (error) => {\n    return {\n      type: 'FETCH_LOGIN_ERROR',\n      payload: error\n    };\n};\n\nconst notAuthorized = () => {\n    return {\n      type: 'NOT_AUTHORIZED'\n    }\n}\n\n\n\n\nconst fetchLogin = (apiService) => ({login, pass}) => (dispatch) => {\n    dispatch(loginRequested());\n    apiService.login(login,pass)\n      .then((data) => dispatch(loginSuccess(data)))\n      .catch((err) => dispatch(loginError(err.response.data.Message)));\n};\n\nconst fetchLogout = (apiService) => () => (dispatch) => {\n  dispatch(loginRequested());\n  apiService.logout()\n    .then(() => dispatch(notAuthorized()))\n    .catch(()=>{dispatch(loginSuccess())});\n};\n\n\nconst checkAuth = (apiService) => () => (dispatch) => {\n  dispatch(loginRequested());\n  apiService.ping()\n    .then((data) => {\n      console.log(data)\n      dispatch(loginSuccess(data))\n    })\n    .catch(()=>{\n      dispatch(notAuthorized())});\n};\n\nexport {\n    fetchLogin,\n    fetchLogout,\n    checkAuth,\n}"]},"metadata":{},"sourceType":"module"}