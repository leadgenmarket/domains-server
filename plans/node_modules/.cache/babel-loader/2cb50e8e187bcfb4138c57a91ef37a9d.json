{"ast":null,"code":"import _defineProperty from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";import{Edit,Trash}from\"react-feather\";import{showModal}from\".\";import{SpinnerContext}from\"../spinner\";import{ChooseOptions,DatePickerInput}from\"./components\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var TextModal=function TextModal(_ref){var form=_ref.form,sendRequest=_ref.sendRequest;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var closeModal=function closeModal(e){e.preventDefault();if(form.clear!==false)clearFields(e);if(form.return!==undefined&&document.querySelector('.'+form.return)){document.querySelectorAll('.modal-dialog').forEach(function(modal){modal.style.display=\"none\";});document.querySelector('#inlineForm').classList.add('show');document.querySelector('.'+form.return).style.display=\"flex\";}else{document.querySelector('#inlineForm').style.display=\"none\";document.querySelector('#inlineForm').classList.remove('show');document.querySelector('body').classList.remove('modal-open');document.querySelectorAll('.modal-dialog').forEach(function(modal){modal.style.display=\"none\";});document.querySelector('.modal-backdrop').remove();}};var showResultModal=function showResultModal(flag){document.querySelectorAll('.modal-dialog').forEach(function(modal){modal.style.display=\"none\";});if(flag){document.querySelector('.modal-success').style.display=\"flex\";setTimeout(function(){document.querySelector('.modal-success').classList.add('show');},100);document.querySelector('.modal-success .modal-content').style.display=\"block\";}else{document.querySelector('.modal-danger').style.display=\"flex\";setTimeout(function(){document.querySelector('.modal-danger').classList.add('show');},100);document.querySelector('.modal-danger .modal-content').style.display=\"block\";}};var checkFields=function checkFields(event){var form_=event.target.closest('form');var json={};var attach=null;var flag=true;form_.querySelectorAll('input, select, textarea').forEach(function(element){if(element.type=='file'){if(element.getAttribute('check')!='false'){if(element.files.length!=0){attach=element.files[0];json=_objectSpread(_objectSpread({},json),{},{files:element.files});element.closest('.mb-2').classList.remove('error');//element.closest('.row-center').querySelector('.image').classList.remove('error')\n//element.closest('.row-center').parentNode.querySelector('.image-span').classList.remove('error')\n}else{flag=false;element.closest('.mb-2').classList.add('error');}}}else if(element.type=='hidden'){if(Number.isNaN(parseInt(element.value))){json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),element.value));}else{json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),parseInt(element.value)));}if(element.value==\"\"){element.closest('.form-group').classList.add('error');flag=false;}}else if(element.type=='number'){if(Number.isNaN(parseInt(element.value))){element.closest('.form-group').classList.add('error');flag=false;}else{element.closest('.form-group').classList.remove('error');json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),parseInt(element.value)));}}else if(element.type=='textarea'){if(element.value==\"\"){element.closest('.form-group').classList.add('error');flag=false;}else{element.closest('.form-group').classList.remove('error');json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),element.value));}}else{if(element.value.trim().length==0){element.closest('.form-group').classList.add('error');flag=false;}else{element.closest('.form-group').classList.remove('error');if(element.type==\"select-one\"){if(element.value==\"true\"){json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),true));}else if(element.value==\"false\"){json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),false));}else{if(element.getAttribute('name')!==\"role\"){json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),parseInt(element.value)));}else{json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),element.value));}}}else{if(element.getAttribute('name').indexOf('time')!==-1){var date=new Date(Date.parse(element.value));json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),date.toISOString()));}else{json=_objectSpread(_objectSpread({},json),{},_defineProperty({},element.getAttribute('name'),element.value));}}}}});if(flag){setLoading(true);//form.action(json)\nvar _flag=false;if(form.fields.map(function(field){if(field.type==\"file\"){_flag=true;}}))if(!_flag){axios({url:form.url,method:form.type,data:json,headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(response){if(form.type==\"put\")json.ID=response.data.id;if(response.data.user!=null)json.User=response.data.user;form.action(json);setLoading(false);if(form.clear!==false)clearFields(event);if(form.return){showModal(form.return);}else{showResultModal(true);}}).catch(function(error){console.log(error);setLoading(false);showResultModal(false);});}else if(_flag){var formData=new FormData();Object.keys(json).map(function(name){if(name!=\"files\"){formData.append(name,json[name]);}});if(json.files!=undefined&&json.files.length>0){Array.from(json.files).forEach(function(file){formData.append('files',file);});}axios({url:form.url,method:form.type,data:formData,headers:{Accept:'application/json','Content-Type':'multipart/form-data'}}).then(function(response){if(form.type==\"put\")json.ID=response.data.id;form.action(json);setLoading(false);if(form.clear!==false)clearFields(event);if(form.return){showModal(form.return);}else{showResultModal(true);}}).catch(function(error){console.log(error);setLoading(false);if(form.return){showModal(form.return);}else{showResultModal(false);}});/*\n                form.fields.map((field) => {\n                    if (field.name!=\"files\") {\n                        formData.append(field.name, 'ADD');\n                    }\n                })\n                formData.append('action', 'ADD');\n                formData.append('param', 0);\n                formData.append('secondParam', 0);\n                formData.append('file', new Blob(['test payload'], {\n                type: 'text/csv',\n                }));\n                */}}};var inputChange=function inputChange(e){if(form.date!=null){for(var i=0;i<Object.keys(form.date).length;i++){var name=Object.keys(form.date)[i];if(name.toLowerCase()==e.target.name.toLowerCase()){form.edit(_objectSpread(_objectSpread({},form.date),{},_defineProperty({},name,e.target.value)));break;}}}};var generateFields=form.fields.map(function(field){if(field.type==\"text\"||field.type==\"number\"){var value=\"\";if(form.date!=null){for(var i=0;i<Object.keys(form.date).length;i++){var name=Object.keys(form.date)[i];if(name.toLowerCase()==field.json.toLowerCase()){value=form.date[name];break;}}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[field.name,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[value==\"\"?/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:field.type,id:field.name,name:field.json}):/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:inputChange,type:field.type,id:field.name,name:field.json,value:value}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"})]})]});}if(field.type==\"hidden\"){var _value=\"\";if(form.date!=null){for(var _i=0;_i<Object.keys(form.date).length;_i++){var _name=Object.keys(form.date)[_i];if(_name.toLowerCase()==field.json.toLowerCase()){_value=form.date[_name];break;}}}return/*#__PURE__*/_jsx(\"input\",{name:field.json,type:field.type,value:_value==\"\"?field.value:_value});}if(field.type==\"select\"){var _value2=\"\";if(form.date!=null){for(var _i2=0;_i2<Object.keys(form.date).length;_i2++){var _name2=Object.keys(form.date)[_i2];if(_name2.toLowerCase()==field.json.toLowerCase()){_value2=form.date[_name2];break;}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:field.json,children:field.name}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select custom-select\",id:field.json,name:field.json,children:[/*#__PURE__*/_jsx(\"option\",{selected:\"\"}),field.options.map(function(option){return _value2==option.value?/*#__PURE__*/_jsx(\"option\",{selected:true,value:option.value,children:option.name}):/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.name});})]}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"})]});}if(field.type==\"textarea\"){var _value3=\"\";if(form.date!=null){for(var _i3=0;_i3<Object.keys(form.date).length;_i3++){var _name3=Object.keys(form.date)[_i3];if(_name3.toLowerCase()==field.json.toLowerCase()){_value3=form.date[_name3];break;}}}return/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",style:{padding:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb1 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:field.json,children:field.name}),_value3!=\"\"?/*#__PURE__*/_jsx(\"textarea\",{id:field.json,value:_value3,onChange:inputChange,name:field.json,className:\"form-control\"}):/*#__PURE__*/_jsx(\"textarea\",{id:field.json,name:field.json,className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0430 \\u043F\\u043E\\u043B\\u044F.\"})]})});}if(field.type==\"date\"){var _value4=\"\";if(form.date!=null){for(var _i4=0;_i4<Object.keys(form.date).length;_i4++){var _name4=Object.keys(form.date)[_i4];if(_name4.toLowerCase()==field.json.toLowerCase()){_value4=form.date[_name4];break;}}}return/*#__PURE__*/_jsx(DatePickerInput,_objectSpread(_objectSpread({},field),{},{value:_value4}));}if(field.type==\"choose\"){console.log(field);return/*#__PURE__*/_jsx(ChooseOptions,_objectSpread({},field));}if(field.type==\"file\"){var imageContainerClick=function imageContainerClick(event){event.preventDefault();event.currentTarget.parentNode.querySelector('input[type=\"file\"]').click();};var onImageChange=function onImageChange(event){event.preventDefault();event.target.setAttribute('check','true');event.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',URL.createObjectURL(event.target.files[0]));};var onImageDelete=function onImageDelete(event){event.preventDefault();event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').setAttribute('check','true');event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',\"/public/other/placeholder_image.jpg\");event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').value=null;};var image=\"\";if(form.date!=null){image=form.imageurl+\"/\"+form.date.ID+\"/\"+form.date.ID+\".jpg\";}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{style:{with:\"100%\"},children:[field.name,\":\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:field.wide!=true?\"media mb-2\":\"mb-2\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:imageContainerClick,children:/*#__PURE__*/_jsx(\"img\",{src:image!=\"\"?image:\"/public/other/placeholder_image.jpg\",alt:\"users avatar\",className:field.wide==true?\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer wide-img\":\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer\",width:\"150\",height:\"150\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-body mt-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 d-flex mt-1 px-0\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"btn btn-primary mr-75 mb-0 waves-effect waves-float waves-light\",hrmlFor:\"change-picture\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"d-none d-sm-block\",children:[/*#__PURE__*/_jsx(Edit,{size:\"20\"}),\" \\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"]}),/*#__PURE__*/_jsx(\"input\",{check:image!=\"\"?\"false\":\"true\",onChange:onImageChange,className:\"form-control\",type:\"file\",id:\"change-picture\",accept:\"image/png, image/jpeg, image/jpg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"d-block d-sm-none\",children:/*#__PURE__*/_jsx(Edit,{onClick:onImageChange})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onImageDelete,className:\"btn btn-outline-primary d-none d-sm-block waves-effect\",children:[/*#__PURE__*/_jsx(Trash,{size:\"20\"}),\" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary d-block d-sm-none waves-effect\",children:/*#__PURE__*/_jsx(Trash,{onClick:onImageDelete})})]})})]})]});}});var btnSend=function btnSend(e){checkFields(e);};var clearFields=function clearFields(e){var form_=document.querySelector('.'+form.name);form_.querySelectorAll('input, select, textarea').forEach(function(element){if(element.type=='file'){element.value=null;element.parentNode.parentNode.parentNode.parentNode.querySelector('img').setAttribute('src',\"/public/other/placeholder_image.jpg\");}else if(element.type==\"text\"){element.value=\"\";}else if(element.type==\"hidden\"){//element.value = \"\"\n}else{element.value=null;}});};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered \"+form.name,role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modal-title\",id:\"myModalLabel33\",children:form.title}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",onClick:closeModal,\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),form.subtitle!=null?/*#__PURE__*/_jsx(\"span\",{style:{paddingLeft:\"1.5rem\",paddingTop:\"1rem\"},className:\"modal-title\",id:\"myModalLabel33\",children:form.subtitle}):/*#__PURE__*/_jsx(\"div\",{}),loading?/*#__PURE__*/_jsx(SpinnerContext,{}):\"\",form.question!=null?/*#__PURE__*/ //для alertа вы действительно хотите удалить?\n_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"18px\"},children:form.question}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),generateFields]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary waves-effect waves-float waves-light\",onClick:closeModal,\"data-dismiss\":\"modal\",children:\"\\u041D\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:btnSend,className:\"btn btn-danger waves-effect waves-float waves-light\",\"data-dismiss\":\"modal\",children:\"\\u0414\\u0430\"})]})]})}):/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:generateFields}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary waves-effect waves-float waves-light\",onClick:closeModal,\"data-dismiss\":\"modal\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:btnSend,className:\"btn btn-primary waves-effect waves-float waves-light\",\"data-dismiss\":\"modal\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]})]})})});};export default TextModal;","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/modals/text-modal.js"],"names":["axios","React","useState","Edit","Trash","showModal","SpinnerContext","ChooseOptions","DatePickerInput","TextModal","form","sendRequest","loading","setLoading","closeModal","e","preventDefault","clear","clearFields","return","undefined","document","querySelector","querySelectorAll","forEach","modal","style","display","classList","add","remove","showResultModal","flag","setTimeout","checkFields","event","form_","target","closest","json","attach","element","type","getAttribute","files","length","Number","isNaN","parseInt","value","trim","indexOf","date","Date","parse","toISOString","fields","map","field","url","method","data","headers","Accept","then","response","ID","id","user","User","action","catch","error","console","log","formData","FormData","Object","keys","name","append","Array","from","file","inputChange","i","toLowerCase","edit","generateFields","options","option","padding","imageContainerClick","currentTarget","parentNode","click","onImageChange","setAttribute","URL","createObjectURL","onImageDelete","image","imageurl","with","wide","btnSend","title","subtitle","paddingLeft","paddingTop","question","textAlign","fontSize"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport {Edit, Trash} from \"react-feather\"\nimport { showModal } from \".\"\nimport {SpinnerContext} from \"../spinner\"\nimport { ChooseOptions, DatePickerInput } from \"./components\"\n\nconst TextModal = ({form, sendRequest}) => {\n    const [loading, setLoading] = useState(false)\n    const closeModal = (e) => {\n        e.preventDefault()\n        if (form.clear!==false) clearFields(e)\n        if (form.return!==undefined && document.querySelector('.'+form.return)) {\n            document.querySelectorAll('.modal-dialog').forEach((modal) => {\n                modal.style.display = \"none\"\n            })\n            document.querySelector('#inlineForm').classList.add('show')\n            document.querySelector('.'+form.return).style.display = \"flex\"\n        } else {\n            document.querySelector('#inlineForm').style.display = \"none\"\n            document.querySelector('#inlineForm').classList.remove('show')\n            document.querySelector('body').classList.remove('modal-open')\n            document.querySelectorAll('.modal-dialog').forEach((modal) => {\n                modal.style.display = \"none\"\n            })\n            document.querySelector('.modal-backdrop').remove()\n        }\n        \n        \n    }\n\n    const showResultModal = (flag) => {\n        document.querySelectorAll('.modal-dialog').forEach((modal) => {\n            modal.style.display = \"none\"\n        })\n        if (flag) {\n            document.querySelector('.modal-success').style.display = \"flex\"\n            setTimeout(()=> {\n                document.querySelector('.modal-success').classList.add('show')\n            }, 100)\n            document.querySelector('.modal-success .modal-content').style.display=\"block\"\n        } else {\n            document.querySelector('.modal-danger').style.display = \"flex\"\n            setTimeout(()=> {\n                document.querySelector('.modal-danger').classList.add('show')\n            }, 100)\n            document.querySelector('.modal-danger .modal-content').style.display=\"block\"\n        }\n    }\n\n    const checkFields = (event) => {\n        const form_ = event.target.closest('form')\n        let json = {}\n        let attach = null\n        let flag = true\n        form_.querySelectorAll('input, select, textarea').forEach((element) => {\n            if (element.type == 'file') {\n                if (element.getAttribute('check')!='false'){\n                    if (element.files.length != 0) {\n                        attach = element.files[0]\n                        json = { ...json, files: element.files}\n                        element.closest('.mb-2').classList.remove('error')\n                        //element.closest('.row-center').querySelector('.image').classList.remove('error')\n                        //element.closest('.row-center').parentNode.querySelector('.image-span').classList.remove('error')\n                    } else {\n                        flag = false\n                        element.closest('.mb-2').classList.add('error')\n                        \n                    }\n                }\n            } else if (element.type == 'hidden') {\n                if (Number.isNaN(parseInt(element.value))) {\n                    json = { ...json, [element.getAttribute('name')]: element.value }\n                } else {\n                    json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                }\n                if (element.value == \"\") {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                }\n            } else if (element.type == 'number') {\n                if (Number.isNaN(parseInt(element.value))) {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    element.closest('.form-group').classList.remove('error')\n                    json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                }\n            } else if (element.type == 'textarea') {\n                if (element.value==\"\") {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    element.closest('.form-group').classList.remove('error')\n                    json = { ...json, [element.getAttribute('name')]: element.value }\n                }\n            } else {\n                \n                if (element.value.trim().length == 0) {\n                    element.closest('.form-group').classList.add('error')\n                    flag = false\n                } else {\n                    \n                    element.closest('.form-group').classList.remove('error')\n                    if (element.type == \"select-one\") {\n                        if (element.value == \"true\") {\n                            json = { ...json, [element.getAttribute('name')]: true }\n                        } else if (element.value == \"false\") {\n                            json = { ...json, [element.getAttribute('name')]: false }\n                        } else {\n                            if (element.getAttribute('name')!==\"role\") {\n                                json = { ...json, [element.getAttribute('name')]: parseInt(element.value) }\n                            } else {\n                                json = { ...json, [element.getAttribute('name')]: element.value}\n                            }\n                        }\n                    } else {\n                        if (element.getAttribute('name').indexOf('time')!==-1){\n                            let date = new Date(Date.parse(element.value))\n                            json = { ...json, [element.getAttribute('name')]: date.toISOString() }\n                        } else {\n                            json = { ...json, [element.getAttribute('name')]: element.value }\n                        }\n\n                    }\n                }\n            }\n        })\n        if (flag) {\n            setLoading(true)\n            \n            //form.action(json)\n            let flag = false\n            if (form.fields.map((field) => {\n                if (field.type==\"file\") {\n                    flag = true\n                }\n            }))\n            if (!flag) {\n                axios({\n                    url: form.url,\n                    method: form.type,\n                    data: json,\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'application/json',\n                    },\n                }).then((response) => {\n                    if (form.type==\"put\") json.ID = response.data.id\n                    if (response.data.user!=null) json.User = response.data.user\n                    form.action(json)\n                    setLoading(false)\n                    if (form.clear!==false) clearFields(event)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(true)\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                    setLoading(false)\n                    showResultModal(false)\n                })\n            } else if (flag) {\n                const formData = new FormData();\n                Object.keys(json).map((name) => {\n                    if (name!=\"files\") {\n                        formData.append(name, json[name]);\n                    }\n                })\n                if (json.files!=undefined && json.files.length>0) {\n                    Array.from(json.files).forEach(file => { formData.append('files', file)});\n                }\n                axios({\n                    url: form.url,\n                    method: form.type,\n                    data: formData,\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'multipart/form-data',\n                    },\n                }).then((response) => {\n                    if (form.type==\"put\") json.ID = response.data.id\n                    form.action(json)\n                    setLoading(false)\n                    if (form.clear!==false) clearFields(event)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(true)\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                    setLoading(false)\n                    if (form.return) {\n                        showModal(form.return)\n                    } else {\n                        showResultModal(false)\n                    }\n                });\n                /*\n                form.fields.map((field) => {\n                    if (field.name!=\"files\") {\n                        formData.append(field.name, 'ADD');\n                    }\n                })\n                formData.append('action', 'ADD');\n                formData.append('param', 0);\n                formData.append('secondParam', 0);\n                formData.append('file', new Blob(['test payload'], {\n                type: 'text/csv',\n                }));\n                */\n            }\n            \n        }\n    }\n\n    const inputChange = (e) => {\n        if (form.date!=null) {\n            for(let i=0; i<Object.keys(form.date).length; i++) {\n                let name = Object.keys(form.date)[i];\n                if (name.toLowerCase() == e.target.name.toLowerCase()) {\n                    form.edit({\n                        ...form.date,\n                        [name]:e.target.value\n                    })\n                    break;\n                }\n            }\n        }\n    }\n\n    const generateFields = form.fields.map((field) => {\n        if (field.type == \"text\" || field.type == \"number\") {\n            let value=\"\";\n            if (form.date!=null) {\n               \n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <React.Fragment>\n                        <label>{field.name}:</label>\n                        <div className=\"form-group\">\n                            {value==\"\"?<input className=\"form-control\" type={field.type} id={field.name}  name={field.json} />:<input className=\"form-control\" onChange={inputChange} type={field.type} id={field.name}  name={field.json} value={value} />}\n                            <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                        </div>\n                    </React.Fragment>\n        }\n\n        \n\n        if (field.type == \"hidden\"){\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <input name={field.json}  type={field.type} value={value==\"\"?field.value:value} />\n        }\n\n        if (field.type == \"select\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <div className=\"form-group\">\n                        <label for={field.json}>{field.name}</label>\n                        <select  className=\"form-select custom-select\" id={field.json} name={field.json}>\n                            <option selected=\"\"></option>\n                            {field.options.map((option) => {\n                                return value==option.value?<option selected value={option.value}>{option.name}</option>:<option value={option.value}>{option.name}</option>\n                            })}\n                        </select>\n                        <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                    </div> \n        }\n\n        if (field.type == \"textarea\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <div className=\"col-12\" style={{padding:0}}><div className=\"mb1 form-group\">\n                        <label for={field.json}>{field.name}</label>\n                        {value!=\"\"?<textarea id={field.json} value={value} onChange={inputChange} name={field.json} className=\"form-control\"></textarea>:<textarea id={field.json} name={field.json} className=\"form-control\"></textarea>}\n                        <div className=\"invalid-feedback\">Проверьте правильность ввода поля.</div>\n                    </div></div>\n        }\n\n        if (field.type == \"date\") {\n            let value=\"\";\n            if (form.date!=null) {\n                for(let i=0; i<Object.keys(form.date).length; i++) {\n                    let name = Object.keys(form.date)[i];\n                    if (name.toLowerCase() == field.json.toLowerCase()) {\n                        value = form.date[name]\n                        break;\n                    }\n                }\n            }\n            return <DatePickerInput {...field} value={value} />\n        }\n\n        if (field.type == \"choose\") {\n            console.log(field)\n            return <ChooseOptions {...field} />\n        }\n\n        if (field.type == \"file\") {\n            const imageContainerClick = (event) => {\n                event.preventDefault()\n                event.currentTarget.parentNode.querySelector('input[type=\"file\"]').click()\n                \n            }\n            const onImageChange = (event) => {\n                event.preventDefault()\n                event.target.setAttribute('check', 'true')\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',   URL.createObjectURL(event.target.files[0]))\n            }\n\n            const onImageDelete = (event) => {\n                event.preventDefault()\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').setAttribute('check', 'true')\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 img').setAttribute('src',   \"/public/other/placeholder_image.jpg\")\n                event.currentTarget.parentNode.parentNode.parentNode.parentNode.querySelector('.mb-2 input[type=\"file\"]').value = null\n            }\n            let image=\"\"\n            if (form.date!=null) {\n                image = form.imageurl+\"/\"+form.date.ID+\"/\"+form.date.ID+\".jpg\"\n            }\n            return <React.Fragment>\n                        <div className=\"form-group\">\n                            <label style={{with:\"100%\"}}>{field.name}:</label>\n                        </div>\n                        <div className={field.wide!=true?\"media mb-2\":\"mb-2\"} >\n                            <a onClick={imageContainerClick}><img src={image!=\"\"?image:\"/public/other/placeholder_image.jpg\"} alt=\"users avatar\" className={field.wide==true?\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer wide-img\":\"user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer\"} width=\"150\" height=\"150\" />\n                            </a>\n                            <div className=\"media-body mt-50\">\n                                <div className=\"col-12 d-flex mt-1 px-0\">\n                                    <label className=\"btn btn-primary mr-75 mb-0 waves-effect waves-float waves-light\" hrmlFor=\"change-picture\">\n                                        <span className=\"d-none d-sm-block\"><Edit size=\"20\" /> Изменить</span>\n                                        <input check={image!=\"\"?\"false\":\"true\"} onChange={onImageChange} className=\"form-control\" type=\"file\" id=\"change-picture\" accept=\"image/png, image/jpeg, image/jpg\" />\n                                        <span className=\"d-block d-sm-none\">\n                                            <Edit onClick={onImageChange} />\n                                        </span>\n                                    </label>\n                                    <button onClick={onImageDelete} className=\"btn btn-outline-primary d-none d-sm-block waves-effect\"><Trash size=\"20\" /> Удалить</button>\n                                    <button className=\"btn btn-outline-primary d-block d-sm-none waves-effect\">\n                                        <Trash onClick={onImageDelete} />\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </React.Fragment>\n        }\n    })\n\n    const btnSend = (e) => {\n        checkFields(e)\n    }\n\n    const clearFields = (e) => {\n        const form_ = document.querySelector('.'+form.name)\n        form_.querySelectorAll('input, select, textarea').forEach((element) => {\n            if (element.type == 'file') {\n                element.value = null\n                element.parentNode.parentNode.parentNode.parentNode.querySelector('img').setAttribute('src', \"/public/other/placeholder_image.jpg\")\n            } else if (element.type == \"text\"){\n                element.value = \"\"\n            } else if(element.type == \"hidden\") {\n                //element.value = \"\"\n            }  else {\n                element.value = null\n            }\n        })\n    }\n\n\n    return (<React.Fragment ><div className={\"modal-dialog modal-dialog-centered \"+form.name} role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\" id=\"myModalLabel33\">{form.title}</h4><br />\n                        <button type=\"button\" class=\"btn-close\" onClick={closeModal} data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    {form.subtitle!=null?<span style={{paddingLeft:\"1.5rem\", paddingTop:\"1rem\"}} className=\"modal-title\" id=\"myModalLabel33\">{form.subtitle}</span>:<div></div>}\n                    \n                    {loading?<SpinnerContext />:\"\"}\n                    {form.question!=null? //для alertа вы действительно хотите удалить?\n                    <div>\n                        <form action=\"#\">\n                            <div className=\"modal-body\" style={{textAlign:\"center\"}}>\n                                <br />\n                                <br />\n                                <span style={{fontSize: \"18px\"}}>{form.question}</span>\n                                <br />\n                                <br />\n                                {generateFields}\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"btn btn-outline-primary waves-effect waves-float waves-light\" onClick={closeModal} data-dismiss=\"modal\">Нет</button>\n                                <button type=\"button\" onClick={btnSend} className=\"btn btn-danger waves-effect waves-float waves-light\" data-dismiss=\"modal\">Да</button>\n                            </div>\n                        </form>\n                    </div>:\n                    <form action=\"#\">\n                        <div className=\"modal-body\">\n                            {generateFields}\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-outline-primary waves-effect waves-float waves-light\" onClick={closeModal} data-dismiss=\"modal\">Отмена</button>\n                            <button type=\"button\" onClick={btnSend} className=\"btn btn-primary waves-effect waves-float waves-light\" data-dismiss=\"modal\">Отправить</button>\n                        </div>\n                    </form>}\n                </div>\n            </div>\n\n            </ React.Fragment>\n            \n    )\n}\n\nexport default TextModal"]},"metadata":{},"sourceType":"module"}