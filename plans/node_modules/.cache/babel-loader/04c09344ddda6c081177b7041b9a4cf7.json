{"ast":null,"code":"import axios from \"axios\";\n\nconst sendFormWithAttach = (url, form, type) => {\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  const send = new FormData();\n  Object.keys(form).forEach(key => {\n    if (key == \"files\") {\n      if (form[key].length > 1) {\n        form[key].forEach(el => {\n          send.append(\"files\", form[key]);\n        });\n      } else {\n        send.append('file', form[key][0]);\n      }\n    }\n\n    send.append(key, form[key]);\n  });\n\n  if (type == 'post') {\n    return axios.post(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  } else if (type == 'put') {\n    return axios.put(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  }\n};\n\nexport default class ApiService {\n  constructor() {\n    this.login = (login, pass) => {\n      console.log(login);\n      console.log(pass);\n      return axios.post(\"/sign-in\", {\n        login,\n        pass\n      });\n    };\n\n    this.ping = () => {\n      return axios.get(\"/api/ping\");\n    };\n\n    this.logout = () => {\n      return axios.get(\"/api/logout\");\n    };\n\n    this.domainsList = (searchUrl, cursor, itemscnt) => {\n      return axios.post(\"/api/domains/list\", {\n        search: searchUrl,\n        cursor: cursor,\n        items_cnt: itemscnt\n      });\n    };\n\n    this.leadsList = (searchUrl, cursor, itemscnt) => {\n      return axios.post(\"/api/lead/list\", {\n        search: searchUrl,\n        cursor: cursor,\n        items_cnt: itemscnt\n      });\n    };\n\n    this.domain = id => {\n      return axios.get(\"/api/domains/\" + id);\n    };\n\n    this.addDomain = () => {\n      return axios.put(\"/api/domains/\");\n    };\n\n    this.deleteDomain = id => {\n      return axios.delete(\"/api/domains/\" + id);\n    };\n\n    this.templatesList = () => {\n      return axios.get(\"/api/templates/\");\n    };\n\n    this.citiesList = () => {\n      return axios.get(\"/api/cities/\");\n    };\n\n    this.organizationsList = () => {\n      return axios.get(\"/api/organizations/\");\n    };\n\n    this.domainSave = data => {\n      return axios({\n        url: \"/api/domains/add\",\n        method: \"post\",\n        data: data,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    };\n\n    this.titlesList = () => {\n      return axios.get(\"/api/titles/\");\n    };\n\n    this.deleteTitle = id => {\n      return axios.delete(\"/api/titles/\" + id);\n    };\n\n    this.updateTilte = data => {\n      return axios.post(\"/api/titles\", data);\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/services/api-service.js"],"names":["axios","sendFormWithAttach","url","form","type","config","headers","send","FormData","Object","keys","forEach","key","length","el","append","post","put","ApiService","login","pass","console","log","ping","get","logout","domainsList","searchUrl","cursor","itemscnt","search","items_cnt","leadsList","domain","id","addDomain","deleteDomain","delete","templatesList","citiesList","organizationsList","domainSave","data","method","titlesList","deleteTitle","updateTilte"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\nconst sendFormWithAttach = (url, form, type) => {\n    const config = {\n        headers: { 'content-type': 'multipart/form-data' }\n    }\n    const send = new FormData()\n    Object.keys(form).forEach((key) => {\n        if (key == \"files\") {\n            if (form[key].length > 1) {\n                form[key].forEach((el) => {\n                    send.append(\"files\", form[key]);\n                })\n            } else {\n                send.append('file', form[key][0])\n            }\n        }\n        send.append(key, form[key])\n    })\n    if (type == 'post') {\n        return axios.post(url, send, { headers: { 'content-type': 'multipart/form-data' } })\n    } else if (type == 'put') {\n        return axios.put(url, send, { headers: { 'content-type': 'multipart/form-data' } })\n    }\n}\n\nexport default class ApiService {\n    login = (login, pass) => {\n        console.log(login)\n        console.log(pass)\n        return axios.post(\"/sign-in\", { login, pass })\n    }\n\n    ping = () => {\n        return axios.get(\"/api/ping\")\n    }\n\n    logout = () => {\n        return axios.get(\"/api/logout\")\n    }\n\n    domainsList = (searchUrl, cursor, itemscnt) => {\n        return axios.post(\"/api/domains/list\", {\n            search: searchUrl,\n            cursor: cursor,\n            items_cnt: itemscnt,\n        })\n    }\n\n    leadsList = (searchUrl, cursor, itemscnt) => {\n        return axios.post(\"/api/lead/list\", {\n            search: searchUrl,\n            cursor: cursor,\n            items_cnt: itemscnt,\n        })\n    }\n\n    domain = (id) => {\n        return axios.get(\"/api/domains/\" + id)\n    }\n\n    addDomain = () => {\n        return axios.put(\"/api/domains/\")\n    }\n\n    deleteDomain = (id) => {\n        return axios.delete(\"/api/domains/\" + id)\n    }\n\n    templatesList = () => {\n        return axios.get(\"/api/templates/\")\n    }\n\n    citiesList = () => {\n        return axios.get(\"/api/cities/\")\n    }\n\n    organizationsList = () => {\n        return axios.get(\"/api/organizations/\")\n    }\n\n    domainSave = (data) => {\n        return axios({\n            url: \"/api/domains/add\",\n            method: \"post\",\n            data: data,\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        })\n    }\n\n    titlesList = () => {\n        return axios.get(\"/api/titles/\")\n    }\n\n    deleteTitle = (id) => {\n        return axios.delete(\"/api/titles/\" + id)\n    }\n\n    updateTilte = (data) => {\n        return axios.post(\"/api/titles\", data)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}