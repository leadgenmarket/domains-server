{"ast":null,"code":"import axios from \"axios\";\n\nconst sendFormWithAttach = (url, form, type) => {\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  const send = new FormData();\n  Object.keys(form).forEach(key => {\n    if (key == \"files\") {\n      if (form[key].length > 1) {\n        form[key].forEach(el => {\n          send.append(\"files\", form[key]);\n        });\n      } else {\n        send.append('file', form[key][0]);\n      }\n    }\n\n    send.append(key, form[key]);\n  });\n\n  if (type == 'post') {\n    return axios.post(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  } else if (type == 'put') {\n    return axios.put(url, send, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n  }\n};\n\nexport default class ApiService {\n  constructor() {\n    this.login = (login, pass) => {\n      console.log(login);\n      console.log(pass);\n      return axios.post(\"/sign-in\", {\n        login,\n        pass\n      });\n    };\n\n    this.ping = () => {\n      return axios.get(\"/api/ping\");\n    };\n\n    this.logout = () => {\n      return axios.get(\"/api/logout\");\n    };\n\n    this.domainsList = () => {\n      return axios.get(\"/api/domains\");\n    };\n\n    this.domain = id => {\n      return axios.get(\"/api/domains/\" + id);\n    };\n\n    this.addDomain = () => {\n      return axios.put(\"/api/domains/\");\n    };\n\n    this.deleteDomain = id => {\n      return axios.delete(\"/api/domains/\" + id);\n    };\n\n    this.templatesList = () => {\n      return axios.get(\"/api/templates/\");\n    };\n\n    this.citiesList = () => {\n      return axios.get(\"/api/cities/\");\n    };\n\n    this.organizationsList = () => {\n      return axios.get(\"/api/organizations/\");\n    };\n\n    this.domainSave = data => {\n      return axios({\n        url: \"/api/domains/add\",\n        method: \"post\",\n        data: data,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/services/api-service.js"],"names":["axios","sendFormWithAttach","url","form","type","config","headers","send","FormData","Object","keys","forEach","key","length","el","append","post","put","ApiService","login","pass","console","log","ping","get","logout","domainsList","domain","id","addDomain","deleteDomain","delete","templatesList","citiesList","organizationsList","domainSave","data","method"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\nconst sendFormWithAttach = (url, form, type) => {\n    const config = {\n        headers: { 'content-type': 'multipart/form-data' }\n      }\n      const send = new FormData()\n      Object.keys(form).forEach((key) => {\n        if (key == \"files\"){\n            if (form[key].length>1) {\n                form[key].forEach((el) =>{\n                    send.append(\"files\", form[key]);\n                })\n            } else {\n                send.append('file',  form[key][0])\n            }\n        }\n        send.append(key, form[key])\n      })\n      if(type=='post'){\n        return axios.post(url, send,  {headers: { 'content-type': 'multipart/form-data' }})\n      } else if(type == 'put'){\n        return axios.put(url, send,  {headers: { 'content-type': 'multipart/form-data' }})\n      }\n}\n\nexport default class ApiService{\n    login = (login, pass) => { \n        console.log(login)\n        console.log(pass)\n        return axios.post(\"/sign-in\", {login,pass})\n    }\n\n    ping = () => {\n        return axios.get(\"/api/ping\")\n    }\n\n    logout = () => {\n        return axios.get(\"/api/logout\")\n    }\n\n    domainsList = () => {\n        return axios.get(\"/api/domains\")\n    }\n\n    domain = (id) => {\n        return axios.get(\"/api/domains/\"+id)\n    }\n\n    addDomain = () => {\n        return axios.put(\"/api/domains/\")\n    }\n\n    deleteDomain = (id) => {\n        return axios.delete(\"/api/domains/\"+id)\n    }\n\n    templatesList = () => {\n        return axios.get(\"/api/templates/\")\n    }\n\n    citiesList = () => {\n        return axios.get(\"/api/cities/\")\n    }\n\n    organizationsList = () => {\n        return axios.get(\"/api/organizations/\")\n    }\n\n    domainSave = (data) => {\n        return axios({\n            url: \"/api/domains/add\",\n            method: \"post\",\n            data: data,\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}