{"ast":null,"code":"var _jsxFileName = \"/Users/laurkankusu/Documents/development/domains-server/admin/src/components/side-menu/menu-item.js\",\n    _s = $RefreshSig$();\n\nimport MenuItemChildren from './menu-item-children';\nimport React, { Component } from \"react\";\nimport { bindActionCreators } from 'redux';\nimport { fetchLogout } from '../../actions';\nimport { withApiService } from '../../components/hoc';\nimport { connect } from 'react-redux';\nimport './menu-item.css';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { compose } from '../../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MenuItem = _ref => {\n  _s();\n\n  let {\n    item,\n    logout\n  } = _ref;\n  const location = useLocation().pathname;\n  let navigate = useNavigate();\n\n  const pushHistory = url => {\n    navigate(url, {\n      replace: true\n    });\n  };\n\n  const childClick = e => {\n    e.preventDefault();\n    e.currentTarget.parentNode.querySelectorAll('li').forEach(el => {\n      el.classList.remove('mm-active');\n    });\n    let menuItem = e.currentTarget;\n    menuItem.classList.add('mm-active');\n    pushHistory(menuItem.getAttribute('url'));\n  };\n\n  const childrenHtml = item.children.map(item => {\n    return /*#__PURE__*/_jsxDEV(MenuItemChildren, {\n      item: item,\n      click: childClick\n    }, item.children, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 16\n    }, this);\n  });\n\n  const menuClick = e => {\n    e.preventDefault();\n\n    if (logout != null) {\n      console.log(logout);\n      logout();\n    }\n\n    let menuItem = e.currentTarget.parentElement;\n\n    if (menuItem.querySelector('.sub-menu') != undefined) {\n      if (menuItem.querySelector('.sub-menu').classList.contains(\"mm-collapse\")) {\n        menuItem.classList.add('mm-active');\n        menuItem.querySelector('.sub-menu').classList.remove('mm-collapse');\n      } else {\n        menuItem.classList.remove('mm-active');\n        menuItem.querySelector('.sub-menu').classList.add('mm-collapse');\n      }\n    } else {\n      document.querySelectorAll('#side-menu li').forEach(el => {\n        el.classList.remove('mm-active');\n      });\n      menuItem.classList.add('mm-active');\n      pushHistory(menuItem.getAttribute('url'));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    url: item.url,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: menuClick,\n      className: item.children.length != 0 ? \"has-arrow active\" : \"active\",\n      href: \"#\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"nav-item-icon\",\n        children: item.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 109\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 153\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), item.children.length != 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"sub-menu mm-collapse\",\n      children: childrenHtml\n    }, item.url + \"_expand\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this) : \"\"]\n  }, item.url, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MenuItem, \"pXm7l0BaYAemuVyMz1Iiv7GdYKY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = MenuItem;\n\nclass MenuItemContainer extends Component {\n  componentDidMount() {//this.props.login();\n  }\n\n  render() {\n    const {\n      item,\n      logout\n    } = this.props;\n\n    if (item.name == \"Выход\") {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        item: item,\n        logout: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        item: item,\n        logout: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nconst mapDispatchToProps = (dispatch, _ref2) => {\n  let {\n    apiService\n  } = _ref2;\n  return bindActionCreators({\n    logout: fetchLogout(apiService)\n  }, dispatch);\n};\n\nexport default compose(withApiService(), connect(null, mapDispatchToProps))(MenuItemContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuItem\");","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/side-menu/menu-item.js"],"names":["MenuItemChildren","React","Component","bindActionCreators","fetchLogout","withApiService","connect","useNavigate","useLocation","compose","MenuItem","item","logout","location","pathname","navigate","pushHistory","url","replace","childClick","e","preventDefault","currentTarget","parentNode","querySelectorAll","forEach","el","classList","remove","menuItem","add","getAttribute","childrenHtml","children","map","menuClick","console","log","parentElement","querySelector","undefined","contains","document","length","icon","name","MenuItemContainer","componentDidMount","render","props","mapDispatchToProps","dispatch","apiService"],"mappings":"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","sourcesContent":["import MenuItemChildren from './menu-item-children'\nimport React, {Component}  from \"react\";\nimport { bindActionCreators } from 'redux';\nimport {fetchLogout} from '../../actions'\nimport { withApiService } from '../../components/hoc';\nimport { connect } from 'react-redux';\nimport './menu-item.css'\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { compose } from '../../utils';\nconst MenuItem = ({item, logout}) => {\n    const location = useLocation().pathname;\n    let navigate = useNavigate();\n    \n    const pushHistory = (url) => {\n        navigate(url, { replace: true })\n    }\n\n    const childClick = (e) => {\n        e.preventDefault()\n        e.currentTarget.parentNode.querySelectorAll('li').forEach((el) => {\n            el.classList.remove('mm-active') \n        })\n        let menuItem = e.currentTarget\n        menuItem.classList.add('mm-active') \n        pushHistory(menuItem.getAttribute('url'))\n    }\n    const childrenHtml = item.children.map((item)=>{\n        return <MenuItemChildren key={item.children} item={item} click={childClick}/>\n    }) \n    const menuClick = (e) => {\n        e.preventDefault()\n        if (logout!=null){\n            console.log(logout)\n            logout()\n        }\n        let menuItem = e.currentTarget.parentElement\n        if (menuItem.querySelector('.sub-menu')!=undefined){\n            if ( menuItem.querySelector('.sub-menu').classList.contains(\"mm-collapse\")) {\n                menuItem.classList.add('mm-active')\n                menuItem.querySelector('.sub-menu').classList.remove('mm-collapse')\n            }\n            else {\n                menuItem.classList.remove('mm-active')\n                menuItem.querySelector('.sub-menu').classList.add('mm-collapse')\n            }\n        } else {\n            document.querySelectorAll('#side-menu li').forEach((el) => {\n                el.classList.remove('mm-active')\n            })\n            menuItem.classList.add('mm-active')\n            pushHistory(menuItem.getAttribute('url'))\n        }\n    }\n    return (\n        <li key={item.url} url={item.url}>\n            <a onClick={menuClick} className={item.children.length!=0?\"has-arrow active\":\"active\"} href=\"#\"><i className=\"nav-item-icon\">{item.icon}</i><span>{item.name}</span></a>\n            {item.children.length!=0?\n                <ul key={item.url+\"_expand\"} className=\"sub-menu mm-collapse\">\n                    {childrenHtml}\n                </ul>:\n                \"\"}\n        </li>\n    )\n}\n\nclass MenuItemContainer extends Component {\n\n    componentDidMount() {\n      //this.props.login();\n    }\n  \n    render() {\n      const {item, logout} = this.props;\n    if  (item.name==\"Выход\"){\n      return <MenuItem item= {item} logout={logout} />;\n    } else {\n        return  <MenuItem item= {item} logout={null} />\n    }\n    }\n  }\n  \n  \n  \n  const mapDispatchToProps = (dispatch, { apiService}) => {\n    return bindActionCreators({\n        logout: fetchLogout(apiService)\n    }, dispatch);\n  };\n  \n  export default compose(\n    withApiService(),\n    connect(null, mapDispatchToProps)\n  )(MenuItemContainer);"]},"metadata":{},"sourceType":"module"}