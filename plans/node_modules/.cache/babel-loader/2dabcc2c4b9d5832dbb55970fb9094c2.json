{"ast":null,"code":"import _classCallCheck from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _slicedToArray from\"/Users/laurkankusu/Documents/development/domains-server/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PageTitle from\"../../../page-title\";import{useNavigate}from\"react-router-dom\";import{Modals,showModal}from\"../../../modals\";import{compose}from\"../../../../utils\";import{withApiService}from\"../../../hoc\";import{connect}from\"react-redux\";import{bindActionCreators}from'redux';import{Component,useEffect,useState}from\"react\";import{deleteTitle,fetchTitles,updateTitle}from\"../../../../actions/titles\";import{Spinner}from\"../../../spinner\";import TableItem from\"./table-item\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TitlesPage=function TitlesPage(_ref){var titles=_ref.titles,deleteTitle=_ref.deleteTitle,updateTitle=_ref.updateTitle;var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),editTitle=_useState2[0],setEditTitle=_useState2[1];var forms=[{title:'Добавить тайтл',name:'addTitle',url:\"/api/titles/\",type:\"put\",//action: (action) => {actionAdd(action)},\nfields:[{name:'Title',json:'title',type:'text'}]},{title:'Редактировать тайтл',name:'updateTitle',url:\"/api/titles/\",type:\"post\",action:function action(_action){console.log(_action);updateTitle(_action);},edit:function edit(action){setEditTitle(action);},//imageurl:\"public/objects/\"+activeObject.ID+\"/actions/\", //id\ndate:editTitle,clear:false,fields:[{name:'Title',json:'title',type:'text'},{json:'ID',type:'hidden'}]},{title:'Удалить тайтл',question:'Вы действительно хотите удалить тайтл?',name:'deleteTitle',url:\"/api/titles/\"+editTitle.ID,type:\"delete\",action:function action(_action2){console.log(_action2);deleteTitle(_action2);},//edit: () => {},\ndate:editTitle,clear:false,fields:[{json:'ID',type:'hidden'}]}];return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(PageTitle,{title:\"Список подмен\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",style:{display:\"flex\",justifyContent:\"end\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){showModal('addTitle');},type:\"button\",className:\"btn btn-primary waves-effect waves-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"feather-plus\"}),\" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0430\\u0439\\u0442\\u043B\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"DataTables_Table_0_wrapper\",className:\"dataTables_wrapper dt-bootstrap4 no-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_length\",id:\"DataTables_Table_0_length\",children:/*#__PURE__*/_jsxs(\"label\",{style:{display:\"flex\"},children:[\"Show \",/*#__PURE__*/_jsxs(\"select\",{style:{width:\"60px\",marginLeft:\"10px\",marginRight:\"10px\"},className:\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\"})]}),\" entries\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{id:\"DataTables_Table_0_filter\",className:\"dataTables_filter\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041F\\u043E\\u0438\\u0441\\u043A:\",/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control form-control-sm\",placeholder:\"\",\"aria-controls\":\"DataTables_Table_0\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\",style:{borderCollapse:\"collapse\",borderSpacing:\"0px 8px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-transparent\",role:\"row\",children:[/*#__PURE__*/_jsx(\"th\",{style:{width:\"30px\"},className:\"sorting sorting_asc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check font-size-16\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"check\",className:\"form-check-input\",id:\"checkAll\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"checkAll\"})]})}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"60px\"},className:\"sorting\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{},className:\"sorting\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"200px\"},className:\"sorting\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:titles.map(function(title){console.log(title);return/*#__PURE__*/_jsx(TableItem,{title:title,deleteTitle:function deleteTitle(e){e.preventDefault();setEditTitle(title);showModal(\"deleteTitle\");},updateTitle:function updateTitle(e){e.preventDefault();setEditTitle(title);showModal(\"updateTitle\");}});})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_info\",id:\"DataTables_Table_0_info\",role:\"status\",\"aria-live\":\"polite\",children:\"Showing 1 to 10 of 12 entries\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dataTables_paginate paging_simple_numbers\",id:\"DataTables_Table_0_paginate\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item previous disabled\",id:\"DataTables_Table_0_previous\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"0\",tabindex:\"0\",className:\"page-link\",children:\"Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item active\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"1\",tabindex:\"0\",className:\"page-link\",children:\"1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item \",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"2\",tabindex:\"0\",className:\"page-link\",children:\"2\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"paginate_button page-item next\",id:\"DataTables_Table_0_next\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"aria-controls\":\"DataTables_Table_0\",\"data-dt-idx\":\"3\",tabindex:\"0\",className:\"page-link\",children:\"Next\"})})]})})})]})]})})]})})})})]})}),/*#__PURE__*/_jsx(Modals,{forms:forms})]});};var TitleListPageContainer=/*#__PURE__*/function(_Component){_inherits(TitleListPageContainer,_Component);var _super=_createSuper(TitleListPageContainer);function TitleListPageContainer(){_classCallCheck(this,TitleListPageContainer);return _super.apply(this,arguments);}_createClass(TitleListPageContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchTitles();}},{key:\"render\",value:function render(){var _this$props=this.props,titles=_this$props.titles,loading=_this$props.loading,error=_this$props.error,deleteTitle=_this$props.deleteTitle,updateTitle=_this$props.updateTitle;if(loading||titles==null){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(TitlesPage,{titles:titles,loading:loading,error:error,deleteTitle:deleteTitle,updateTitle:updateTitle});}}]);return TitleListPageContainer;}(Component);var mapStateToProps=function mapStateToProps(_ref2){var _ref2$titlesList=_ref2.titlesList,titles=_ref2$titlesList.titles,loading=_ref2$titlesList.loading,error=_ref2$titlesList.error;return{titles:titles,loading:loading,error:error};};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref3){var apiService=_ref3.apiService;return bindActionCreators({fetchTitles:fetchTitles(apiService),updateTitle:updateTitle,deleteTitle:deleteTitle},dispatch);};export default compose(withApiService(),connect(mapStateToProps,mapDispatchToProps))(TitleListPageContainer);","map":{"version":3,"sources":["/Users/laurkankusu/Documents/development/domains-server/admin/src/components/pages/titles/titles-list/titles-list.js"],"names":["PageTitle","useNavigate","Modals","showModal","compose","withApiService","connect","bindActionCreators","Component","useEffect","useState","deleteTitle","fetchTitles","updateTitle","Spinner","TableItem","TitlesPage","titles","navigate","editTitle","setEditTitle","forms","title","name","url","type","fields","json","action","console","log","edit","date","clear","question","ID","display","justifyContent","width","marginLeft","marginRight","borderCollapse","borderSpacing","map","e","preventDefault","TitleListPageContainer","props","loading","error","mapStateToProps","titlesList","mapDispatchToProps","dispatch","apiService"],"mappings":"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","sourcesContent":["import PageTitle from \"../../../page-title\"\nimport { useNavigate } from \"react-router-dom\"\nimport { Modals, showModal } from \"../../../modals\"\nimport { compose } from \"../../../../utils\";\nimport { withApiService } from \"../../../hoc\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport { Component, useEffect, useState } from \"react\";\nimport { deleteTitle, fetchTitles, updateTitle } from \"../../../../actions/titles\";\nimport { Spinner } from \"../../../spinner\";\nimport TableItem from \"./table-item\";\n\nconst TitlesPage = ({titles, deleteTitle, updateTitle}) => {\n    const navigate= useNavigate();\n    const [editTitle, setEditTitle] = useState({})\n    const forms = [\n        {\n            title: 'Добавить тайтл',\n            name: 'addTitle',\n            url:\"/api/titles/\",\n            type: \"put\",\n            //action: (action) => {actionAdd(action)},\n            fields: [\n                {\n                    name: 'Title',\n                    json: 'title',\n                    type: 'text',\n                },\n            ],\n        },\n        {\n            title: 'Редактировать тайтл',\n            name: 'updateTitle',\n            url: \"/api/titles/\",\n            type: \"post\",\n            action: (action) => {console.log(action); updateTitle(action)},\n            edit: (action) => { setEditTitle(action)},\n            //imageurl:\"public/objects/\"+activeObject.ID+\"/actions/\", //id\n            date: editTitle,\n            clear:false,\n            fields: [\n                {\n                    name: 'Title',\n                    json: 'title',\n                    type: 'text',\n                },\n                {\n                    json: 'ID',\n                    type: 'hidden',\n                },\n            ],\n        },\n        {\n            title: 'Удалить тайтл',\n            question: 'Вы действительно хотите удалить тайтл?',\n            name: 'deleteTitle',\n            url:\"/api/titles/\"+editTitle.ID,\n            type: \"delete\",\n            action: (action) => { console.log(action); deleteTitle(action)},\n            //edit: () => {},\n            date: editTitle,\n            clear:false,\n            fields: [\n              {\n                json: 'ID',\n                type: 'hidden',\n              },\n            ]\n          },\n    ]\n    return <div className=\"main-content\">\n        <div className=\"page-content\">\n            <div className=\"container-fluid\">\n                <PageTitle title={\"Список подмен\"} />\n                <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"\" style={{ display: \"flex\", justifyContent: \"end\" }}>\n                                    <div className=\"mb-4\">\n                                        <button onClick={() => { showModal('addTitle')}} type=\"button\" className=\"btn btn-primary waves-effect waves-light\"><i className=\"feather-plus\"></i> Добавить тайтл</button>\n                                    </div>\n                                </div>\n                                <div className=\"table-responsive\">\n                                    <div id=\"DataTables_Table_0_wrapper\" className=\"dataTables_wrapper dt-bootstrap4 no-footer\"><div className=\"row\"><div className=\"col-sm-12 col-md-6\"><div className=\"dataTables_length\" id=\"DataTables_Table_0_length\">\n                                        <label style={{ display: \"flex\" }}>\n                                            Show <select style={{ width: \"60px\", marginLeft: \"10px\", marginRight: \"10px\" }} className=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\n                                                <option value=\"10\">10</option>\n                                                <option value=\"25\">25</option>\n                                                <option value=\"50\">50</option>\n                                                <option value=\"100\">100</option>\n                                            </select> entries\n                                        </label>\n                                    </div>\n                                    </div>\n                                        <div className=\"col-sm-12 col-md-6\">\n                                            <div id=\"DataTables_Table_0_filter\" className=\"dataTables_filter\">\n                                                <label>Поиск:<input type=\"search\" className=\"form-control form-control-sm\" placeholder=\"\" aria-controls=\"DataTables_Table_0\" /></label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-sm-12\">\n                                                <table className=\"table align-middle datatable dt-responsive table-check nowrap dataTable no-footer table-striped\" style={{ borderCollapse: \"collapse\", borderSpacing: \"0px 8px\", width: \"100%\" }} >\n                                                    <thead>\n                                                        <tr className=\"bg-transparent\" role=\"row\">\n                                                            <th style={{ width: \"30px\" }} className=\"sorting sorting_asc\">\n                                                                <div className=\"form-check font-size-16\">\n                                                                    <input type=\"checkbox\" name=\"check\" className=\"form-check-input\" id=\"checkAll\" />\n                                                                    <label className=\"form-check-label\" htmlFor=\"checkAll\"></label>\n                                                                </div>\n                                                            </th>\n                                                            <th style={{ width: \"60px\" }} className=\"sorting\" >ID</th>\n                                                            <th style={{  }} className=\"sorting\" >Title</th>\n                                                            <th style={{ width: \"200px\" }} className=\"sorting\" >Action</th>\n                                                        </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        {\n                                                            titles.map((title) => {\n                                                                console.log(title)\n                                                                return <TableItem title={title} deleteTitle={(e) => {e.preventDefault(); setEditTitle(title); showModal(\"deleteTitle\")}} updateTitle={(e) =>{ e.preventDefault(); setEditTitle(title); showModal(\"updateTitle\")}}/>\n                                                            })\n                                                        }\n                                                    </tbody>\n                                                </table>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-sm-12 col-md-5\">\n                                                <div className=\"dataTables_info\" id=\"DataTables_Table_0_info\" role=\"status\" aria-live=\"polite\">Showing 1 to 10 of 12 entries</div>\n                                            </div>\n                                            <div className=\"col-sm-12 col-md-7\">\n                                                <div className=\"dataTables_paginate paging_simple_numbers\" id=\"DataTables_Table_0_paginate\">\n                                                    <ul className=\"pagination\">\n                                                        <li className=\"paginate_button page-item previous disabled\" id=\"DataTables_Table_0_previous\">\n                                                            <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"0\" tabindex=\"0\" className=\"page-link\">Previous</a>\n                                                        </li>\n                                                        <li className=\"paginate_button page-item active\">\n                                                            <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"1\" tabindex=\"0\" className=\"page-link\">1</a>\n                                                        </li>\n                                                        <li className=\"paginate_button page-item \">\n                                                            <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"2\" tabindex=\"0\" className=\"page-link\">2</a>\n                                                        </li>\n                                                        <li className=\"paginate_button page-item next\" id=\"DataTables_Table_0_next\">\n                                                            <a href=\"#\" aria-controls=\"DataTables_Table_0\" data-dt-idx=\"3\" tabindex=\"0\" className=\"page-link\">Next</a>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <Modals forms={forms} />\n    </div>\n}\n\nclass TitleListPageContainer extends Component {\n    \n    componentDidMount() {\n      this.props.fetchTitles();\n    }\n  \n    render() {\n      const { titles, loading, error, deleteTitle, updateTitle } = this.props;\n      if (loading || titles == null) {\n          return <Spinner />\n      }\n      return <TitlesPage titles={titles} loading={loading} error={error} deleteTitle={deleteTitle} updateTitle={updateTitle} />;\n    }\n  }\n  \n  const mapStateToProps = ({ titlesList: { titles, loading, error }}) => {\n    return { titles, loading, error };\n  };\n  \n  const mapDispatchToProps = (dispatch, { apiService}) => {\n    return bindActionCreators({\n        fetchTitles: fetchTitles(apiService),\n        updateTitle: updateTitle,\n        deleteTitle: deleteTitle,\n    }, dispatch);\n  };\n\n  export default compose(\n    withApiService(),\n    connect(mapStateToProps, mapDispatchToProps)\n  )(TitleListPageContainer);"]},"metadata":{},"sourceType":"module"}